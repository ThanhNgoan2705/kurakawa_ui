"use strict";(self.webpackChunkthingsboard=self.webpackChunkthingsboard||[]).push([[2076],{1940:(D,b,u)=>{u.d(b,{B:()=>h,S:()=>k});var n=u(36075),r=u(27997),t=u(97323),i=u(42415);class h{constructor(a,o){this.ctx=a;const e=i("#"+o,a.$container)[0],d=a.settings,F=this.createGaugeOptions(e,d);this.gauge=this.createGauge(F).draw()}update(){if(this.ctx.data.length>0){const a=this.ctx.data[0];if(a.data.length>0){const o=a.data[a.data.length-1],e=parseFloat(o[1]);e!==this.gauge.value&&(this.gauge.options.animation?delete this.gauge._value:this.gauge._value=e,this.gauge.value=e)}}}mobileModeChanged(){const a=!1!==this.ctx.settings.animation&&!this.ctx.isMobile;this.gauge.update({animation:a})}resize(){this.gauge.update({width:this.ctx.width,height:this.ctx.height})}destroy(){this.gauge.destroy(),this.gauge=null}}class k extends h{constructor(a,o){super(a,o)}createGaugeOptions(a,o){const e=o.minValue||0,d=o.maxValue||100,F=this.ctx.data[0].dataKey,m=o.defaultColor||F.color,w=d-e;let v=w/(o.majorTicksCount||10);const R=o.valueInt||3,T=function S(l,a){let o;return l.data&&l.data[0]&&(o=l.data[0].dataKey),o&&(0,r.O9)(o.decimals)?o.decimals:(0,r.O9)(a.valueDec)&&null!==a.valueDec?a.valueDec:l.decimals}(this.ctx,o);v=parseFloat(parseFloat(v+"").toFixed(T))||1;const y=[],p=[];let c=e;for(;c<=d;){y.push(c);let f=c+v;if(f=parseFloat(parseFloat(f+"").toFixed(T)),c<d){const B=(0,t.A)(m),M=(c-e)/w;B.setAlpha(M);const N={from:c,to:f,color:B.toRgbString()};p.push(N)}c=f}const E=(0,t.A)(m).darken(20).toRgbString(),x={renderTo:a,minValue:e,maxValue:d,majorTicks:y,minorTicks:o.minorTicks||2,units:V(this.ctx,o),title:!1!==o.showUnitTitle?o.unitTitle&&o.unitTitle.length>0?o.unitTitle:F.label:"",borders:!1!==o.showBorder,borderShadowWidth:!1!==o.showBorder?3:0,valueInt:R,valueDec:T,majorTicksInt:1,majorTicksDec:0,valueBox:!1!==o.valueBox,valueBoxStroke:5,valueBoxWidth:0,valueText:"",valueTextShadow:!0,valueBoxBorderRadius:2.5,highlights:o.highlights&&o.highlights.length>0?o.highlights:p,highlightsWidth:(0,r.O9)(o.highlightsWidth)&&null!==o.highlightsWidth?o.highlightsWidth:15,fontNumbers:(0,n.a)(o.numbersFont),fontTitle:(0,n.a)(o.titleFont),fontUnits:(0,n.a)(o.unitsFont),fontValue:(0,n.a)(o.valueFont),fontNumbersSize:o.numbersFont&&o.numbersFont.size?o.numbersFont.size:18,fontTitleSize:o.titleFont&&o.titleFont.size?o.titleFont.size:24,fontUnitsSize:o.unitsFont&&o.unitsFont.size?o.unitsFont.size:22,fontValueSize:o.valueFont&&o.valueFont.size?o.valueFont.size:40,fontNumbersStyle:o.numbersFont&&o.numbersFont.style?o.numbersFont.style:"normal",fontTitleStyle:o.titleFont&&o.titleFont.style?o.titleFont.style:"normal",fontUnitsStyle:o.unitsFont&&o.unitsFont.style?o.unitsFont.style:"normal",fontValueStyle:o.valueFont&&o.valueFont.style?o.valueFont.style:"normal",fontNumbersWeight:o.numbersFont&&o.numbersFont.weight?o.numbersFont.weight:"500",fontTitleWeight:o.titleFont&&o.titleFont.weight?o.titleFont.weight:"500",fontUnitsWeight:o.unitsFont&&o.unitsFont.weight?o.unitsFont.weight:"500",fontValueWeight:o.valueFont&&o.valueFont.weight?o.valueFont.weight:"500",colorNumbers:o.numbersFont&&o.numbersFont.color?o.numbersFont.color:E,colorTitle:o.titleFont&&o.titleFont.color?o.titleFont.color:"#888",colorUnits:o.unitsFont&&o.unitsFont.color?o.unitsFont.color:"#888",colorValueText:o.valueFont&&o.valueFont.color?o.valueFont.color:"#444",colorValueTextShadow:o.valueFont&&o.valueFont.shadowColor?o.valueFont.shadowColor:"rgba(0,0,0,0.3)",colorPlate:o.colorPlate||"#fff",colorMajorTicks:o.colorMajorTicks||"#444",colorMinorTicks:o.colorMinorTicks||"#666",colorNeedle:o.colorNeedle||m,colorNeedleEnd:o.colorNeedleEnd||m,colorValueBoxRect:o.colorValueBoxRect||"#888",colorValueBoxRectEnd:o.colorValueBoxRectEnd||"#666",colorValueBoxBackground:o.colorValueBoxBackground||"#babab2",colorValueBoxShadow:o.colorValueBoxShadow||"rgba(0,0,0,1)",colorNeedleShadowUp:o.colorNeedleShadowUp||"rgba(2,255,255,0.2)",colorNeedleShadowDown:o.colorNeedleShadowDown||"rgba(188,143,143,0.45)",animation:!1!==o.animation&&!this.ctx.isMobile,animationDuration:(0,r.O9)(o.animationDuration)&&null!==o.animationDuration?o.animationDuration:500,animationRule:o.animationRule||"cycle",animatedValue:!0};return this.prepareGaugeOptions(o,x),x}}function V(l,a){let o;return l.data&&l.data[0]&&(o=l.data[0].dataKey),o&&o.units&&o.units.length?o.units:(0,r.O9)(a.units)&&a.units.length>0?a.units:l.units}},36075:(D,b,u)=>{function n(t){let i=t&&t.family?t.family:"Roboto";return"RobotoDraft"===i&&(i="Roboto"),i}function r(t,i){const h={...i,...t||{}};return h.family=n(h),h}u.d(b,{M:()=>r,a:()=>n})}}]);