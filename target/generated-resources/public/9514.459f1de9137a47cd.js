(self.webpackChunkthingsboard=self.webpackChunkthingsboard||[]).push([[9514],{27248:r=>{var e=function(){"use strict";function u(g,h,x,R){"object"==typeof h&&(x=h.depth,R=h.prototype,h.filter,h=h.circular);var z=[],O=[],U=typeof Buffer<"u";return typeof h>"u"&&(h=!0),typeof x>"u"&&(x=1/0),function te(E,w){if(null===E)return null;if(0==w)return E;var C,Y;if("object"!=typeof E)return E;if(u.__isArray(E))C=[];else if(u.__isRegExp(E))C=new RegExp(E.source,_(E)),E.lastIndex&&(C.lastIndex=E.lastIndex);else if(u.__isDate(E))C=new Date(E.getTime());else{if(U&&Buffer.isBuffer(E))return C=Buffer.allocUnsafe?Buffer.allocUnsafe(E.length):new Buffer(E.length),E.copy(C),C;typeof R>"u"?(Y=Object.getPrototypeOf(E),C=Object.create(Y)):(C=Object.create(R),Y=R)}if(h){var A=z.indexOf(E);if(-1!=A)return O[A];z.push(E),O.push(C)}for(var re in E){var ne;Y&&(ne=Object.getOwnPropertyDescriptor(Y,re)),(!ne||null!=ne.set)&&(C[re]=te(E[re],w-1))}return C}(g,x)}function i(g){return Object.prototype.toString.call(g)}function _(g){var h="";return g.global&&(h+="g"),g.ignoreCase&&(h+="i"),g.multiline&&(h+="m"),h}return u.clonePrototype=function(h){if(null===h)return null;var x=function(){};return x.prototype=h,new x},u.__objToStr=i,u.__isDate=function f(g){return"object"==typeof g&&"[object Date]"===i(g)},u.__isArray=function p(g){return"object"==typeof g&&"[object Array]"===i(g)},u.__isRegExp=function D(g){return"object"==typeof g&&"[object RegExp]"===i(g)},u.__getRegExpFlags=_,u}();r.exports&&(r.exports=e)},96318:(r,e,u)=>{var i=u(27248);r.exports=function(f,p){return f=f||{},Object.keys(p).forEach(function(D){typeof f[D]>"u"&&(f[D]=i(p[D]))}),f}},19514:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(r){var e=function(){return e.cache.hasOwnProperty(arguments[0])||(e.cache[arguments[0]]=e.parse(arguments[0])),e.format.call(null,e.cache[arguments[0]],arguments)};e.format=function(p,D){var x,j,z,O,U,te,E,_=1,g=p.length,h="",R=[];for(j=0;j<g;j++)if("string"===(h=i(p[j])))R.push(p[j]);else if("array"===h){if((O=p[j])[2])for(x=D[_],z=0;z<O[2].length;z++){if(!x.hasOwnProperty(O[2][z]))throw e('[sprintf] property "%s" does not exist',O[2][z]);x=x[O[2][z]]}else x=O[1]?D[O[1]]:D[_++];if(/[^s]/.test(O[8])&&"number"!==i(x))throw e("[sprintf] expecting number but found %s",i(x));switch(O[8]){case"b":x=x.toString(2);break;case"c":x=String.fromCharCode(x);break;case"d":x=parseInt(x,10);break;case"e":x=O[7]?x.toExponential(O[7]):x.toExponential();break;case"f":x=O[7]?parseFloat(x).toFixed(O[7]):parseFloat(x);break;case"o":x=x.toString(8);break;case"s":x=(x=String(x))&&O[7]?x.slice(0,O[7]):x;break;case"u":x>>>=0;break;case"x":x=x.toString(16);break;case"X":x=x.toString(16).toUpperCase()}x=/[def]/.test(O[8])&&O[3]&&x>=0?" +"+x:x,te=O[4]?"0"===O[4]?"0":O[4].charAt(1):" ",E=O[6]-String(x).length,U=O[6]?f(te,E):"",R.push(O[5]?x+U:U+x)}return R.join("")},e.cache={},e.parse=function(p){for(var D=p,_=[],g=[],h=0;D;){if(null!==(_=/^[^\x25]+/.exec(D)))g.push(_[0]);else if(null!==(_=/^\x25{2}/.exec(D)))g.push("%");else{if(null===(_=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(D)))throw"[sprintf] huh?";if(_[2]){h|=1;var x=[],R=_[2],j=[];if(null===(j=/^([a-z_][a-z_\d]*)/i.exec(R)))throw"[sprintf] huh?";for(x.push(j[1]);""!==(R=R.slice(j[0].length));)if(null!==(j=/^\.([a-z_][a-z_\d]*)/i.exec(R)))x.push(j[1]);else{if(null===(j=/^\[(\d+)\]/.exec(R)))throw"[sprintf] huh?";x.push(j[1])}_[2]=x}else h|=2;if(3===h)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";g.push(_)}D=D.slice(_[0].length)}return g};function i(p){return Object.prototype.toString.call(p).slice(8,-1).toLowerCase()}function f(p,D){for(var _=[];D>0;_[--D]=p);return _.join("")}r.sprintf=e,r.vsprintf=function(p,D,_){return(_=D.slice(0)).splice(0,0,p),e.apply(null,_)}})(typeof global<"u"?global:self||window),function(r,e){var u;if(typeof window<"u")u=window;else if(typeof self<"u")u=self;else{if(!(typeof global<"u"))throw new Error("Unknow context");u=global}__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(42415),__webpack_require__(88226)],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(i,f){return r(i,f,u),i}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($,wcwidth,root,undefined){"use strict";function debug(r){}function DelayQueue(){var r=$.Callbacks(),e=!1,u=this;this.resolve=function(){r.fire(),u.resolved=e=!0},this.add=function(i){e?i():r.add(i)}}$.omap=function(r,e){var u={};return $.each(r,function(i,f){u[i]=e.call(r,i,f)}),u},$.fn.text_length=function(){return this.map(function(){return $(this).text().length}).get().reduce(function(r,e){return r+e},0)};var Clone={clone_object:function(r){var e={};if("object"==typeof r){if(Array.isArray(r))return this.clone_array(r);if(null===r)return r;for(var u in r)Array.isArray(r[u])?e[u]=this.clone_array(r[u]):"object"==typeof r[u]?e[u]=this.clone_object(r[u]):e[u]=r[u]}return e},clone_array:function(r){if(!is_function(Array.prototype.map))throw new Error("Your browser don't support ES5 array map use es5-shim");return r.slice(0).map(function(e){return"object"==typeof e?this.clone_object(e):e}.bind(this))}},clone=function(r){return Clone.clone_object(r)},localStorage;"Map"in root&&!("clear"in Map.prototype)&&(Map.prototype.clear=function(){this.forEach(function(r,e,u){u.delete(e)})}),function(){var u=function(){try{var h="test",x=window.localStorage;return x.setItem(h,"1"),x.removeItem(h),!0}catch{return!1}}();function i(h,x){var R;if("string"==typeof h&&"string"==typeof x)return localStorage[h]=x,!0;if("object"==typeof h&&typeof x>"u"){for(R in h)h.hasOwnProperty(R)&&(localStorage[R]=h[R]);return!0}return!1}function f(h,x){var R,j,z;if((R=new Date).setTime(R.getTime()+31536e6),j="; expires="+R.toGMTString(),"string"==typeof h&&"string"==typeof x)return document.cookie=h+"="+x+j+"; path=/",!0;if("object"==typeof h&&typeof x>"u"){for(z in h)h.hasOwnProperty(z)&&(document.cookie=z+"="+h[z]+j+"; path=/");return!0}return!1}function p(h){return localStorage[h]}function _(h){return delete localStorage[h]}!function(){try{return document.cookie.split(";"),!0}catch{return!1}}()&&!u?(localStorage={},$.extend({Storage:{set:i,get:p,remove:_}})):(u&&(localStorage=window.localStorage),$.extend({Storage:{set:u?i:f,get:u?p:function D(h){var x,R,j,z;for(x=h+"=",R=document.cookie.split(";"),j=0;j<R.length;j++){for(z=R[j];" "===z.charAt(0);)z=z.slice(1,z.length);if(0===z.indexOf(x))return z.slice(x.length,z.length)}return null},remove:u?_:function g(h){return f(h,"")}}}))}();var debounce=function(){function u(){return Date.now()}return function(f,p,D){var h,x,R,j,z,O,_=Math.max,g=Math.min,U=0,te=!1,E=!1,w=!0;if("function"!=typeof f)throw new TypeError("Expected a function");function C(ie){var ee=h,Z=x;return h=x=undefined,U=ie,j=f.apply(Z,ee)}function re(ie){var ee=ie-O;return O===undefined||ee>=p||ee<0||E&&ie-U>=R}function ne(){var ie=u();if(re(ie))return P(ie);z=setTimeout(ne,function A(ie){var Fe=p-(ie-O);return E?g(Fe,R-(ie-U)):Fe}(ie))}function P(ie){return z=undefined,w&&h?C(ie):(h=x=undefined,j)}function V(){var ie=u(),ee=re(ie);if(h=arguments,x=this,O=ie,ee){if(z===undefined)return function Y(ie){return U=ie,z=setTimeout(ne,p),te?C(ie):j}(O);if(E)return z=setTimeout(ne,p),C(O)}return z===undefined&&(z=setTimeout(ne,p)),j}return p=p||0,function e(i){var f=typeof i;return null!=i&&("object"==f||"function"==f)}(D)&&(te=!!D.leading,R=(E="maxWait"in D)?_(D.maxWait||0,p):R,w="trailing"in D?!!D.trailing:w),V.cancel=function pe(){z!==undefined&&clearTimeout(z),U=0,h=O=x=z=undefined},V.flush=function se(){return z===undefined?j:P(u())},V}}(),jQuery=$,r;function make_callback_plugin(r){var e=$.extend({init:$.noop,destroy:$.noop,name:"event"},r);return function(u,i){var f=0===arguments.length,p="unbind"===arguments[0];if(!f&&!p&&!is_function(u))throw new Error('Invalid argument, it need to a function or string "unbind" or no arguments.');p&&(u=is_function(arguments[1])?arguments[1]:null);var D="callbacks_"+e.name;return this.each(function(){var g,_=$(this);function h(x){g.fireWith(_,[x])}f||p?(g=_.data(D),f?g&&g.fire():(u&&g?(g.remove(u),g.has()||(g=null)):g=null,g||(_.removeData(D),e.destroy.call(this,h,i)))):_.data(D)?$(this).data(D).add(u):((g=$.Callbacks()).add(u),_.data(D,g),e.init.call(this,h,i))})}}function jquery_resolve(r){var e=jQuery.Deferred();return e.resolve(r),e.promise()}function always(r,e){return is_function(r.finally)?r.finally(e):is_function(r.always)?r.always(e):r}function unpromise(r,e,u){if(r!==undefined){if(is_promise(r))return is_function(r.done)?r=r.done(e):is_function(r.then)&&(r=r.then(e)),is_function(r.catch)&&is_function(u)&&r.catch(u),r;if(r instanceof Array)if(r.filter(function(p){return p&&(is_function(p.done)||is_function(p.then))}).length){var f=$.when.apply($,r).then(function(){return e([].slice.call(arguments))});return is_function(f.catch)&&(f=f.catch(u)),f}return e(r)}}function defined(r){return r===undefined||r}r=jQuery,jQuery.fn.extend({everyTime:function(e,u,i,f,p){return this.each(function(){jQuery.timer.add(this,e,u,i,f,p)})},oneTime:function(e,u,i){return this.each(function(){jQuery.timer.add(this,e,u,i,1)})},stopTime:function(e,u){return this.each(function(){jQuery.timer.remove(this,e,u)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===undefined||null===e)return null;var u=this.regex.exec(e.toString().trim());return u[2]?parseInt(u[1],10)*(this.powers[u[2]]||1):e},add:function(e,u,i,f,p,D){var _=0;if("function"==typeof i&&(p||(p=f),f=i,i=u),!("number"!=typeof(u=jQuery.timer.timeParse(u))||isNaN(u)||u<=0)){p&&p.constructor!==Number&&(D=!!p,p=0),p=p||0,D=D||!1,e.$timers||(e.$timers={}),e.$timers[i]||(e.$timers[i]={}),f.$timerID=f.$timerID||this.guid++;var g=function(){D&&g.inProgress||(g.inProgress=!0,(++_>p&&0!==p||!1===f.call(e,_))&&jQuery.timer.remove(e,i,f),g.inProgress=!1)};g.$timerID=f.$timerID,e.$timers[i][f.$timerID]||(e.$timers[i][f.$timerID]=setInterval(g,u)),this.global[i]||(this.global[i]=[]),this.global[i].push(e)}},remove:function(e,u,i){var p,f=e.$timers;if(f){if(u){if(f[u]){if(i)i.$timerID&&(clearInterval(f[u][i.$timerID]),delete f[u][i.$timerID]);else for(var _ in f[u])f[u].hasOwnProperty(_)&&(clearInterval(f[u][_]),delete f[u][_]);for(p in f[u])if(f[u].hasOwnProperty(p))break;p||(p=null,delete f[u])}}else for(var D in f)f.hasOwnProperty(D)&&this.remove(e,D,i);for(p in f)if(f.hasOwnProperty(p))break;p||(e.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&r(window).one("unload",function(){var e=jQuery.timer.global;for(var u in e)if(e.hasOwnProperty(u))for(var i=e[u],f=i.length;--f;)jQuery.timer.remove(i[f],u)}),function(r){if(String.prototype.split.toString().match(/\[native/)){var i,e=String.prototype.split,u=/()??/.exec("")[1]===r;i=function(f,p,D){if("[object RegExp]"!==Object.prototype.toString.call(p))return e.call(f,p,D);var x,R,j,z,_=[],g=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.extended?"x":"")+(p.sticky?"y":""),h=0;for(p=new RegExp(p.source,g+"g"),f+="",u||(x=new RegExp("^"+p.source+"$(?!\\s)",g)),D=D===r?-1>>>0:D>>>0;(R=p.exec(f))&&!((j=R.index+R[0].length)>h&&(_.push(f.slice(h,R.index)),!u&&R.length>1&&R[0].replace(x,function(){for(var O=1;O<arguments.length-2;O++)arguments[O]===r&&(R[O]=r)}),R.length>1&&R.index<f.length&&Array.prototype.push.apply(_,R.slice(1)),z=R[0].length,h=j,_.length>=D));)p.lastIndex===R.index&&p.lastIndex++;return h===f.length?(z||!p.test(""))&&_.push(""):_.push(f.slice(h)),_.length>D?_.slice(0,D):_},String.prototype.split=function(f,p){return i(this,f,p)}}}(),$.fn.caret=function(r){var e=this[0],u="true"===e.contentEditable;if(0===arguments.length){if(window.getSelection)return u?(this.is(":focus")||e.focus(),(f=(i=window.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(e),f.setEnd(i.endContainer,i.endOffset),f.toString().length):e.selectionStart;if(document.selection){if(e.focus(),u){var i=document.selection.createRange();return(f=document.body.createTextRange()).moveToElementText(e),f.setEndPoint("EndToEnd",i),f.text.length}r=0;var f,p=e.createTextRange(),D=(f=document.selection.createRange().duplicate()).getBookmark();for(p.moveToBookmark(D);0!==p.moveStart("character",-1);)r++;return r}return 0}if(-1===r&&(r=this[u?"text":"val"]().length),window.getSelection)if(u){this.is(":focus")||e.focus();var _=window.getSelection();_.collapse(_.focusNode,r)}else e.setSelectionRange(r,r);else if(document.body.createTextRange){(p=document.body.createTextRange()).moveToElementText(e),p.moveStart("character",r),p.collapse(!0),p.select()}return!u&&!this.is(":focus")&&e.focus(),r},$.fn.resizer=make_callback_plugin({name:"resize",init:function(r,e){var f,u=$.extend({prefix:""},e),i=$(this),p=!0;if(i.is("body"))$(window).on("resize.resizer",r);else if(window.ResizeObserver)(f=new ResizeObserver(function(){p||setTimeout(r,0),p=!1})).observe(this),i.data("observer",f);else{var D=$("<iframe/>").addClass(u.prefix+"resizer").appendTo(this)[0];$(D.contentWindow).on("resize",r)}},destroy:function(){var r=$(this);if(window.ResizeObserver){var e=r.data("observer");e&&(e.unobserve(this),r.removeData("observer"))}else{var u=r.find('> iframe[class$="resizer"]');u.length?($(u[0].contentWindow).off("resize").remove(),u.remove()):r.is("body")&&$(window).off("resize.resizer")}}}),$.fn.touch_scroll=make_callback_plugin({name:"touch",init:function(r){var e,u;$(this).on("touchstart.scroll",function(i){"a"!==(i=i.originalEvent).target.tagName.toLowerCase()&&1===i.touches.length&&(u=e=i.touches[0])}).on("touchmove.scroll",function(i){if(i=i.originalEvent,e&&1===i.touches.length){var f=i.touches[0];!1===r({origin:e,previous:u,current:f})&&i.preventDefault(),u=f}}).on("touchend.scroll",function(){(e||u)&&(e=u=null)})},destroy:function(){$(this).off("touchstart.scroll touchmove.scroll touchend.scroll")}}),$.fn.on_load=function(r){var e=$.extend({error:$.noop,load:$.noop,done:$.noop},r),u=[];return this.find("img,iframe").each(function(){var i=$(this),f=new $.Deferred;i.on("load",f.resolve).on("error",function(){e.error(i),f.reject()}),u.push(f)}),e.load(!!u.length),u.length?$.when.apply($,u).then(function(){e.done(!0)}):e.done(!1),this},$.fn.is_fully_in_viewport=root.IntersectionObserver?function(e){var u=this[0],i=jQuery.Deferred(),f=new root.IntersectionObserver(function(p){i.resolve(p[0].isIntersecting&&1===p[0].ratio),f.unobserve(u)},{root:e[0]});return f.observe(u),i.promise()}:function(e){return jquery_resolve(function r(e,u){var i=e.getBoundingClientRect(),f=u[0].getBoundingClientRect(),p=i.top-f.top,D=i.bottom-f.top,_=u.height();return D>0&&p<=_}(this[0],e))};var entity_re=/(&(?:[a-z\d]+|#\d+|#x[a-f\d]+);)/i,space_re=/\s/,combine_chr_re=/(.(?:[\u0300-\u036F]|[\u1AB0-\u1abE]|[\u1DC0-\u1DF9]|[\u1DFB-\u1DFF]|[\u20D0-\u20F0]|[\uFE20-\uFE2F])+)/,astral_symbols_re=/([\uD800-\uDBFF][\uDC00-\uDFFF])/,emoji_re=/(\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD]))/,mobile_re=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,tablet_re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,format_split_re=/(\[\[(?:-?[@!gbiusor])*;[^;]*;[^\]]*\](?:[^\]\\]*(?:\\\\)*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,format_parts_re=/\[\[((?:-?[@!gbiusor])*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]\\]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]+)\]?/gi,format_re=/\[\[((?:-?[@!gbiusor])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,format_exist_re=/\[\[((?:-?[@!gbiusor])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,format_full_re=/^(\[\[(?:(?:-?[@!gbiusor])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\])([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)(\])$/i,format_begin_re=/(\[\[(?:-?[@!gbiusor])*;[^;]*;[^\]]*\])/i,format_start_re=/^(\[\[(?:-?[@!gbiusor])*;[^;]*;[^\]]*\])/i,format_end_re=/\[\[(?:-?[@!gbiusor])*;[^;]*;[^\]]*\]?$/i,self_closing_re=/^(?:\[\[)?[^;]*@[^;]*;/,color_re=/^(?:#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})|rgba?\([^)]+\)|hsla?\([^)]+\))$/i,url_re=/(\b(?:file|ftp|https?):\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,url_nf_re=/\b(?![^"\s[\]]*])(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,email_re=/((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,url_full_re=/^(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\\\][)])+)$/gi,email_full_re=/^((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))$/g,command_re=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimsuy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,extended_command_re=/^\s*((terminal|cmd)::([a-z_]+)\(([\s\S]*)\))\s*$/,format_exec_split_re=/(\[\[(?:-?[@!gbiusor])*;[^\]]+\](?:\\[[\]]|[^\]])*\]|\[\[[\s\S]+?\]\])/,format_exec_re=/(\[\[[\s\S]+?\]\])/,float_re=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,re_re=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimsuy]*)$/,string_re=/("(?:[^"\\]|\\(?:\\\\)*"|\\\\)*"|'(?:[^'\\]|\\(?:\\\\)*'|\\\\)*'|`(?:[^`\\]|\\(?:\\\\)*`|\\\\)*`)/,unclosed_strings_re=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,broken_image='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14"><title id="title2">rounded</title><path id="terminal-broken-image" d="m 14,10 h 2 v 1 a 3,3 0 0 1 -3,3 H 3 A 3,3 0 0 1 0,11 H 4.5 A 1.00012,1.00012 0 0 0 5.207,10.707 L 6.5,9.414 7.793,10.707 a 0.99963,0.99963 0 0 0 1.41406,0 l 2.36719,-2.36719 1.80127,1.44092 A 0.99807,0.99807 0 0 0 14,10 Z M 16,3 V 8 H 14.35059 L 12.12451,6.21924 A 0.99846,0.99846 0 0 0 10.793,6.293 L 8.5,8.586 7.207,7.293 a 0.99962,0.99962 0 0 0 -1.41406,0 L 4.08594,9 H 0 V 3 A 3,3 0 0 1 3,0 h 10 a 3,3 0 0 1 3,3 z M 6,4.5 A 1.5,1.5 0 1 0 4.5,6 1.5,1.5 0 0 0 6,4.5 Z" /></svg>',use_broken_image='<svg class="terminal-broken-image" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#terminal-broken-image"/></svg>',animation_supported=function(){if(typeof document>"u")return!1;var r=!1,e="Webkit Moz O ms Khtml".split(" "),u=document.createElement("div");if(u.style.animationName&&(r=!0),!1===r)for(var i=0;i<e.length;i++){var f=e[i]+"AnimationName";if(u.style[f]!==undefined){r=!0;break}}return u=null,r}(),agent=(root.navigator||window.navigator).userAgent,is_IE=/MSIE|Trident/.test(agent)||/rv:11.0/i.test(agent),is_IEMobile=/IEMobile/.test(agent),is_ch_unit_supported=function(){if(is_IE&&!is_IEMobile)return!1;if(typeof document>"u")return!0;var r=document.createElement("div");return r.style.width="1ch","1ch"===r.style.width}(),is_css_variables_supported=root.CSS&&root.CSS.supports&&root.CSS.supports("(--fake-var: 0)"),is_android=-1!==navigator.userAgent.toLowerCase().indexOf("android"),is_key_native=function(){if(!("KeyboardEvent"in root)||!("key"in root.KeyboardEvent.prototype))return!1;var e=root.KeyboardEvent.prototype;return!!Object.getOwnPropertyDescriptor(e,"key").get.toString().match(/\[native code\]/)}(),is_browser=function(){try{return this===window}catch{return!1}}(),is_mobile=function(r){var e=!1;return(mobile_re.test(r)||tablet_re.test(r.substr(0,4)))&&(e=!0),"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||e}(navigator.userAgent||navigator.vendor||root.opera),ch_unit_bug=!1;function css(r,e,u){if(r instanceof $.fn.init)r.each(function(){css(this,e,u)});else if($.isPlainObject(e))Object.keys(e).forEach(function(i){r.style.setProperty(i,e[i])});else{if(typeof u>"u")return r.style.getPropertyValue(e);r.style.setProperty(e,u)}}function style_prop(r,e,u){var i=[r+":"+e+"px",r+":calc("+e+"px / var(--pixel-density, 1))"];return u&&(i=i.map(function(f){return f+" !important"})),i.join(";")}function a11y_hide(r){r.attr({role:"presentation","aria-hidden":"true"})}is_browser&&$(function(){function r(f){return f[0].getBoundingClientRect().width}var e='<span style="font-family: monospace;visibility:hidden;',u=$(e+'width:1ch;overflow: hidden">&nbsp;</span>');u.appendTo("body");var i=$(e+'">&nbsp;</span>').appendTo("body");ch_unit_bug=Math.abs(r(u)-r(i))>1e-4,u.remove(),i.remove()});var excepctions=[];function alert_exception(r,e){arguments[0]instanceof $.terminal.Exception&&(r=arguments[0].type,e=arguments[0]);var u=(r?r+": ":"")+exception_message(e);-1===excepctions.indexOf(u)&&(excepctions.push(u),setTimeout(function(){throw e},0))}function generate_id(){var r=46656*Math.random()|0,e=46656*Math.random()|0;return(r=("000"+r.toString(36)).slice(-3))+(e=("000"+e.toString(36)).slice(-3))}function scrollbar_event(r,e,u){u=u||1;var i=e.offset().left;return e.outerWidth()*u<=r.clientX-i}function exception_message(r){return"string"==typeof r?r:"string"==typeof r.fileName?r.fileName+": "+r.message:r.message}function Cycle(){var r=[].slice.call(arguments),e=0;$.extend(this,{get:function(){return r},index:function(){return e},rotate:function(u,i){if(i===undefined)i=e;else if(i===e)return;if(!u&&!r.filter(function(p){return typeof p<"u"}).length)return;if(r.length)return 1===r.length?r[0]:(e===r.length-1?e=0:++e,typeof r[e]<"u"?r[e]:this.rotate(!0,i))},length:function(){return r.length},remove:function(u){delete r[u]},set:function(u){for(var i=r.length;i--;)if(r[i]===u)return void(e=i);this.append(u),e=r.length-1},front:function(){if(r.length){for(var u=e,i=!1;!r[u];)if(++u>r.length){if(i)break;u=0,i=!0}return r[u]}},map:function(u){return r.map(function(i,f){return typeof i<"u"?u(i,f):null}).filter(Boolean)},forEach:function(u){return r.forEach(function(i,f){typeof i<"u"&&u(i,f)})},append:function(u){r.push(u)}})}function Stack(r){var e=is_array(r)?r:r?[r]:[];$.extend(this,{data:function(){return e},map:function(u){return $.map(e,u)},size:function(){return e.length},pop:function(){if(0===e.length)return null;var u=e[e.length-1];return e=e.slice(0,e.length-1),u},push:function(u){return e=e.concat([u]),u},top:function(){return e.length>0?e[e.length-1]:null},clone:function(){return new Stack(e.slice(0))}})}function WorkerCache(r){var e=$.extend({validation:$.noop,action:$.noop,onCache:$.noop},r);this._onCache=e.onCache.bind(this),this._action=e.action.bind(this),this._validation=e.validation.bind(this),"Map"in root&&(this._cache=new Map)}function History(r,e,u){var p,i=!0,f="";"string"==typeof r&&""!==r&&(f=r+"_"),f+="commands",u?p=[]:p=(p=$.Storage.get(f))?JSON.parse(p):[];var D=p.length-1;$.extend(this,{append:function(_){i&&p[p.length-1]!==_&&(p.push(_),e&&p.length>e&&(p=p.slice(-e)),D=p.length-1,u||$.Storage.set(f,JSON.stringify(p)))},set:function(_){is_array(_)&&(p=_,u||$.Storage.set(f,JSON.stringify(p)))},data:function(){return p},reset:function(){D=p.length-1},last:function(){return p[p.length-1]},end:function(){return D===p.length-1},position:function(){return D},current:function(){return p[D]},next:function(){var _=D;if(D<p.length-1&&++D,_!==D)return p[D]},previous:function(){var _=D;if(D>0&&--D,_!==D)return p[D]},clear:function(){p=[],this.purge()},enabled:function(){return i},enable:function(){i=!0},purge:function(){u||$.Storage.remove(f)},disable:function(){i=!1},toggle:function(_){i=typeof _>"u"?!i:_}})}function OutputLines(r){this._settings=r,this._lines=[],this._snapshot=[]}function FormatBuffer(r){this._options=r,"Map"in root&&(this._format_cache=new Map),this._output_buffer=[]}function with_prompt(r,e,u){function i(_){var g=$.terminal.escape_brackets("[ERR]> ");e("[[;red;]"+g+"]"),alert_exception("Prompt",_)}function f(_){e(_),p.resolve()}var p=new $.Deferred;switch(typeof r){case"string":f(r);break;case"function":try{var D=r.call(u,function(_){f(_)});"string"==typeof D&&f(D),D&&D.then&&D.then(f).catch(i)}catch(_){i(_)}}return p.promise()}WorkerCache.prototype.validate=function(r){var e=this._validation(r),u=e===undefined||!0===e;return u||this._cache.clear(),u},WorkerCache.prototype.clear=function(){this._cache.clear()},WorkerCache.prototype.get=function(r){return this._cache?this.validate(r)&&this._cache.has(r)?(e=this._cache.get(r),this._onCache({cache:e}),e):(e=this._action(r),this._cache.set(r,e),e):this._action(r);var e},OutputLines.prototype.make_snapshot=function(r){this._snapshot.push(r)},OutputLines.prototype.get_partial=function(){return this._snapshot.length?this._snapshot[this._snapshot.length-1]:[]},OutputLines.prototype.update_snapshot=function(r,e){this._snapshot[r]=e},OutputLines.prototype.limit_snapshot=function(r){this._snapshot=this._snapshot.slice(r)},OutputLines.prototype.clear_snapshot=function(){this._snapshot=[]},OutputLines.prototype.get_snapshot=function(){return this._snapshot.reduce(function(r,e){return e?r.concat(e):r},[]).join("\n")},OutputLines.prototype.join=function(){var r=[].slice.call(arguments);return r.some(is_function)?function(){return r.reduce(function(e,u){return is_function(e)&&(e=e()),is_function(u)&&(u=u()),is_promise(e)||is_promise(u)?$.when(e,u).then(function(i,f){return i+f}):u})}:r.some(is_promise)?r.reduce(function(e,u){return $.when(e,u).then(function(i,f){return i+f})}):r.join("")},OutputLines.prototype.import=function(r){this._lines=r},OutputLines.prototype.push=function(r){var e=r[0],u=r[1];if(this.has_newline())this._lines.push(r);else{var i=this.last_line();i[0]=this.join(i[0],e),i[1].newline=u.newline}},OutputLines.prototype.clear=function(r){this._lines.forEach(function(e,u){var i=e[1];is_function(i.onClear)&&i.onClear.call(self,r(u))}),this._lines=[],this._snapshot=[]},OutputLines.prototype.data=function(){return this._lines.filter(Boolean)},OutputLines.prototype.has_newline=function(){var r=this.last_line();return!r||r[1].newline},OutputLines.prototype.unmount=function(r){var e=r.data("index"),u=this._lines[e];if(u){var i=u[1];is_function(i.unmount)&&i.unmount.call(self,r)}},OutputLines.prototype.last_line=function(){var r=this.data();return r[r.length-1]},OutputLines.prototype.update=function(r,e,u){if(null!==e)return this._lines[r][0]=e,u&&(this._lines[r][1]=$.extend(this._lines[r][1],u)),this._lines[r][1];delete this._lines[r],delete this._snapshot[r]},OutputLines.prototype.length=function(){return this._lines.length},OutputLines.prototype.valid_index=function(r){return!!this._lines[r]},OutputLines.prototype.render=function(r,e){var u=this._settings(),i=[];if(this._snapshot=[],u.outputLimit>=0){var f;f=0===u.outputLimit?r:u.outputLimit,this._lines.forEach(function(D,_){var g=D[0],h=D[1];i.push({value:g,index:_,options:h})});var p=i.length-f-1;i=i.slice(p)}else i=this._lines.map(function(D,_){return{value:D[0],index:_,options:D[1]}});return e(i)},FormatBuffer.NEW_LINE=1,FormatBuffer.prototype.format=function(e,u,i){var f=this._format_cache&&this._settings.useCache;if(f){var p=JSON.stringify([e,this._settings]);if(this._format_cache.has(p))return this._format_cache.get(p)}var D={line:$.terminal.format(e,this._settings),raw:i,newline:u};return f&&this._format_cache.set(p,D),D},FormatBuffer.prototype.empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.append=function(r,e,u,i){if(this._settings=$.extend({useCache:!0},this._options(u)),this._output_buffer.push(FormatBuffer.NEW_LINE),r instanceof Array)for(var f=0,p=r.length;f<p;++f)if(""===r[f]||"\r"===r[f])this._output_buffer.push({line:"",raw:""});else{var D=this.format(r[f],f===p-1,i[f]);this._output_buffer.push(D)}else u.raw?this._output_buffer.push({line:r,raw:i}):this._output_buffer.push(this.format(r,!1,i));this._output_buffer.push({finalize:u.finalize,index:e,raw:u.raw,newline:u.newline})},FormatBuffer.prototype.clear_cache=function(){this._format_cache&&this._format_cache.clear()},FormatBuffer.prototype.output=function(){return this._output_buffer.slice()},FormatBuffer.prototype.is_empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.clear=function(){this._output_buffer=[]},FormatBuffer.prototype.forEach=function(r){for(var e=0;e<this._output_buffer.length;){var u=this._output_buffer[e++];u===FormatBuffer.NEW_LINE?r():r(u)}},FormatBuffer.prototype.flush=function(r){this.forEach(r),this.clear()};var cmd_index=0;$.cmd={defaults:{mask:!1,caseSensitiveSearch:!0,historySize:60,prompt:"> ",enabled:!0,history:!0,onPositionChange:$.noop,onCommandChange:$.noop,inputStyle:"textarea",mobileDelete:is_mobile,onPaste:$.noop,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,mobileIngoreAutoSpace:[],repeatTimeoutKeys:[],tabindex:1,tabs:4}},$.fn.cmd=function(r){var e=$.extend({},$.cmd.defaults,r);function u(s){return e.mobileIngoreAutoSpace.length&&-1!==e.mobileIngoreAutoSpace.indexOf(s)&&is_android}var i=this,f=i.data("cmd");if(f)return f;var p=cmd_index++;i.addClass("cmd");var g,s,v,D=$('<div class="cmd-wrapper"/>').appendTo(i);D.append('<span class="cmd-prompt"></span>'),D.append('<div class="cmd-cursor-line"><span></span><span class="cmd-cursor"><span data-text class="end"><span>&nbsp;</span></span></span><span></span></div>'),a11y_hide(D.find(".cmd-cursor-line")),is_mobile?(g=function(){var s=$('<div class="cmd-editable" contenteditable/>').attr({autocapitalize:"off",autocorrect:"off",spellcheck:"false",tabindex:e.tabindex}).insertAfter(i);s.on("focus",function(){i.enable()}).on("blur",function(){i.disable()});var v,y={$node:s,val:function(T){if(typeof T>"u")return s.text();s.html(T)},reset:function(){clearTimeout(v),v=setTimeout(function(){s.css({top:"",bottom:""})},100)},focus:function(){css(s[0],{top:"calc(var(--terminal-scroll, 0) * 1px)"}),y.reset()},blur:function(){s.css({top:"100%",bottom:0}).blur(),window.getSelection().removeAllRanges(),y.reset()}};return y}(),i.addClass("cmd-mobile")):(s=generate_id(),(v=$("<textarea>").attr({autocapitalize:"off",spellcheck:"false",id:s,tabindex:e.tabindex}).addClass("cmd-clipboard").appendTo(i)).before('<label class="visually-hidden" for="'+s+'">Clipboard textarea for jQuery Terminal</label>'),(g={$node:v,val:function(y){return typeof y>"u"?v.val():v.val(y)}}).val(" ")),e.width&&i.width(e.width);var h,x,R,j,z,U,Y,re,pe,se,ie,ee,Fe,Pe,O=0,te=i.find(".cmd-prompt"),E=!1,w="",C=null,A="",ne="",P=0,V=0,Z=i.find(".cmd-cursor"),Ae=0,Me=/\uFFFF$/,Be=/^\uFFFF$/;var xt={SPACEBAR:" ",UP:"ArrowUP",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",DEL:"Delete",MULTIPLY:"*",DIVIDE:"/",SUBTRACT:"-",ADD:"+"};function Rt(s){var v=s.key.toUpperCase();return xt[v]?xt[v]:v}var ce,We={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(ce=1;ce<25;ce++)We[111+ce]="F"+ce;var Ot="";for(ce=65;ce<91;ce++)Ot=String.fromCharCode(ce),We[ce]=[Ot.toLowerCase(),Ot.toUpperCase()];var bt={};Object.keys(We).forEach(function(s){is_array(We[s])?We[s].forEach(function(v){bt[v.toUpperCase()]=s}):bt[We[s].toUpperCase()]=s});var He,pt={"ALT+D":it({clipboard:!0}),"HOLD+ALT+D":it({clipboard:!0,hold:!0}),"HOLD+DELETE":it({clipboard:!1,hold:!0}),"HOLD+SHIFT+DELETE":it({clipboard:!1,hold:!0}),ENTER:function(){ee&&A&&!e.mask&&(is_function(e.historyFilter)&&e.historyFilter(A)||e.historyFilter instanceof RegExp&&A.match(e.historyFilter)||!e.historyFilter)&&ee.append(A);var v,s=A;return is_mobile||g.$node.blur(),ee.reset(),Ke="",d=!0,e.commands&&(v=e.commands.call(i,s)),is_function(pe)&&(v&&is_function(v.then)?v.then(function(){we()}):we()),i.set(""),g.val(""),is_mobile||g.$node.focus(),!1},"SHIFT+ENTER":function(){return i.insert("\n"),!0},BACKSPACE:It,"SHIFT+BACKSPACE":It,TAB:function(){i.insert("\t")},"CTRL+D":function(){return i.delete(1),!1},DELETE:function(){return i.delete(1),!0},"HOLD+ARROWUP":qt,ARROWUP:qt,"CTRL+ARROWUP":Et,"CTRL+P":Et,ARROWDOWN:Kt,"HOLD+ARROWDOWN":Kt,"CTRL+N":wt,"CTRL+ARROWDOWN":wt,ARROWLEFT:dt,"HOLD+ARROWLEFT":debounce(dt,10),"CTRL+B":dt,"CTRL+ARROWLEFT":function(){var s=P-1,v=0;" "===A[s]&&--s;for(var y=s;y>0;--y){if(" "===A[y]&&" "!==A[y+1]){v=y+1;break}if("\n"===A[y]&&"\n"!==A[y+1]){v=y;break}}i.position(v)},"CTRL+R":function(){return E?Xe(!0):(Y=pe,st(),re=A,i.set(""),Ee(),E=!0),!1},"CTRL+G":function(){if(E)return pe=Y,we(),i.set(re),Ee(),E=!1,w="",!1},ARROWRIGHT:$t,"HOLD+ARROWRIGHT":debounce($t,10),"CTRL+F":$t,"CTRL+ARROWRIGHT":function(){" "===A[P]&&++P;var v=A.slice(P).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!v||v[0].match(/^\s+$/)?i.position(bare_text(A).length):" "!==v[0][0]?P+=v.index+1:(P+=v.index+v[0].length-1," "!==v[0][v[0].length-1]&&--P),Ee()},F12:Qe,END:de(!0),"CTRL+END":de(),"CTRL+E":de(),HOME:At(!0),"CTRL+HOME":At(),"CTRL+A":At(),"SHIFT+INSERT":Dt,"CTRL+SHIFT+T":Qe,"CTRL+W":ut({clipboard:!0,hold:!1}),"CTRL+BACKSPACE":ut({clipboard:!0,hold:!1}),"HOLD+BACKSPACE":ut({clipboard:!1,hold:!0}),"HOLD+SHIFT+BACKSPACE":ut({clipboard:!1,hold:!0}),"CTRL+H":function(){return""!==A&&P>0&&i.delete(-1),!1},"CTRL+X":Qe,"CTRL+C":function(){return""===get_selected_html()},"CTRL+T":Qe,"CTRL+Y":function(){""!==ne&&i.insert(ne)},"CTRL+V":Dt,"META+V":Dt,"CTRL+K":function(){var s=text(A).length;return s>P&&(ne=i.delete(s-P),text_to_clipboard(g.$node,ne)),!1},"CTRL+U":function(){return""!==A&&0!==P&&(ne=i.delete(-P),text_to_clipboard(g.$node,ne)),!1},"CTRL+TAB":function(){return!1},"META+`":Qe,"META+R":Qe,"META+L":Qe};function it(s){return(s=s||{}).hold&&!e.mobileDelete?function(){return i.delete(1),!1}:function(){var y=/ *[^ ]+ *(?= )|[^ ]+$/,H=A.slice(P).match(y);return H&&(ne=H[0],s.clipboard&&text_to_clipboard(g.$node,ne)),i.set(A.slice(0,P)+A.slice(P).replace(y,""),!0),!1}}function ut(s){return(s=s||{}).hold&&!e.mobileDelete?function(){i.delete(-1)}:function(){if(""!==A&&0!==P){var y=A.slice(0,P).match(/([^ ]* *$)/);y[0].length&&(ne=i.delete(-y[0].length),s.clipboard&&text_to_clipboard(g.$node,ne))}return!1}}function Qe(){return!0}function Dt(){return g.val(""),Ae=0,i.isenabled()&&!g.$node.is(":focus")&&g.$node.trigger("focus",[!0]),g.$node.one("input",Ft),!0}function Ft(){function s(){g.val(A),t()}function v(y){i.insert(y),s()}Ae++>0||i.isenabled()&&i.oneTime(100,function(){var y=g.val().replace(/\r/g,"");if(is_function(e.onPaste)){var T=e.onPaste.call(i,{target:i,text:y});if(T!==undefined)return void(T&&is_function(T.then||T.done)?(T.then||T.done).call(T,v):"string"==typeof T?v(T):!1===T&&s())}v(y)})}function Et(){return ke?(re=A,i.set(ee.current())):i.set(ee.previous()),ke=!1,!1}function wt(){return ee.end()?(ke=!0,i.set(re)):i.set(ee.next()),!1}function at(s){return s.match(/\n/)}function Lt(s,v){var y=s.split("\n").map(function(H){return $.terminal.length(H)});return v&&(y[0]+=v),!!y.filter(function(H){return H>=h}).length}function Ut(s){var v=R,y=$.terminal.split_equal(v+s,h),T=new RegExp("^"+$.terminal.escape_regex(v));return(y=y.map($.terminal.unescape_brackets))[0]=y[0].replace(T,""),y}function qt(){var s=$.terminal.substring(A,0,P),v=i.column(),y=i.find(".cmd-cursor-line"),T=y.prevUntil("span").length;if(1===T&&v<=U)return i.position(0),!1;if(0===T)return Et();if(at(s)||Lt(s,U)){var G,H=y.prev(),J=H.is(".cmd-end-line"),ue=Ut(A);return H=ue[T-1],ue[T].substring(v).length>0?(G=v,T-1==0&&(G-=U),G=v+H.substring(G).length,J&&++G):G=v+1,i.position(-G,!0),!1}return Et()}function Kt(){var s=$.terminal.substring(A,P);if(at(s)||Lt(s)){var v=Ut(A),y=i.column(),T=i.find(".cmd-cursor-line"),J=T.prevUntil("span").length,ue=T.is(".cmd-end-line"),oe=T.next().is(".cmd-end-line"),G=v[J+1];if(!G)return wt();var le,fe=v[J].substring(y).length;return 0===fe?(le=G.length,oe&&le++):(le=Math.min(y,G.length)+fe,0===J&&(le+=U),ue&&(le+=1)),i.position(le,!0),!1}return wt()}function It(){E?(w=w.slice(0,-1),st()):""!==A&&P>0&&i.delete(-1),i.oneTime(1,function(){d=!0})}function dt(){P>0&&i.position(-1,!0)}function $t(){return P<bare_text(A).length&&i.position(1,!0),!1}function At(s){function v(){i.position(0)}return s?function(){if(A.match(/\n/)){var y=A.substring(0,i.position());i.position(y.lastIndexOf("\n")+1)}else v()}:v}function de(s){function v(){i.position(text(A).length)}return s?function(){if(A.match(/\n/))for(var y=A.split("\n"),T=i.position(),H=0,J=0;J<y.length;++J)if((H+=y[J].length)>T)return void i.position(H+J);v()}:v}function Jt(){var s=g.$node,v=s.is(":focus");se?i.oneTime(10,function(){!s.is(":focus")&&se&&s.trigger("focus",[!0])}):v&&!se&&s.trigger("blur",[!0])}function Yt(){if(animation_supported){var v=window.getComputedStyle(Z[0]).getPropertyValue("--animation");v=v.replace(/^\s*|\s*$/g,"");var y=i.attr("class");if(y.match(/-animation/)&&(y=y.replace(/[a-z]+-animation/g,"")),v&&!v.match(/blink/)){var T=v.replace(/terminal-/,"")+"-animation";y.match(T)||(y+=" "+T)}(y=y.replace(/\s+/g," "))!==i.attr("class").replace(/\s+/g," ")&&i.attr("class",y)}}function t(s){i.isenabled()&&i.oneTime(10,function(){!is_mobile&&g.val()!==A&&!s&&g.val(" "+A),se&&i.oneTime(10,function(){try{var v=is_mobile?P:P+1;g.$node.caret()!==v&&g.$node.caret(v)}catch{}})})}if(animation_supported&&!is_android)Fe=function(s){s?Z.addClass("cmd-blink"):Z.removeClass("cmd-blink")},Pe=function(){var s=Z.clone();s.insertBefore(Z),Z.remove(),Z=s};else{var ot=!1;Fe=function(s){s&&!ot?(ot=!0,Z.addClass("cmd-inverted cmd-blink"),i.everyTime(500,"blink",kt)):ot&&!s&&(ot=!1,i.stopTime("blink",kt),Z.removeClass("cmd-inverted cmd-blink"))},Pe=function(){Fe(!1),Fe(!0)}}function kt(){Z.toggleClass("cmd-inverted")}function st(){pe="(reverse-i-search)`"+w+"': ",we()}function Xe(s){var y,T,v=ee.data(),H=v.length;if(s&&C>0&&(H-=C),w.length>0)for(var J=w.length;J>0;J--){T=$.terminal.escape_regex(w.slice(0,J)),y=e.caseSensitiveSearch?new RegExp(T):new RegExp(T,"i");for(var ue=H;ue--;)if(y.test(v[ue]))return C=v.length-ue,i.position(v[ue].indexOf(T)),i.set(v[ue],!0),Ee(),void(w.length!==J&&(w=w.slice(0,J),st()))}w=""}function mt(){var s=i.find(".cmd-prompt"),v=s.html();s.html("<span>&nbsp;</span>");var y=s.find("span").get(0).getBoundingClientRect().width;return s.html(v),y}function Ze(s){var v=i.width();return Math.floor(v/s)}var ht=new WorkerCache({validation:function(s){var v=!1;return this._previous_value&&this._previous_value!==s||this._cols&&this._cols!==h||(v=!0),this._previous_value=s,this._cols=h,v},action:function et(s){function v(a){return $.terminal.split_equal(a,h)}function y(a){var o=[];return a.forEach(function(l,c){$.terminal.strip(l).match(Be)?(o[c]=!1,c>0&&(o[c-1]+="\uffff")):o[c]=a[c]}),o.filter(function(l){return!1!==l})}var H,T=te.find(".cmd-line");H=(H=T.length?T.nextUntil(".cmd-line").text():te.text()).replace("\u200b",""),H=$.terminal.escape_brackets(H);var oe,J=Bt(),ue=new RegExp("^"+J+$.terminal.escape_regex(H));if(s.match(/\n/)){for(var G=s.split("\n"),fe=h-U-1,le=0;le<G.length-1;++le)G[le]+="\uffff";for(strlen(G[0])>fe?((oe=v(H+G[0]))[0]=oe[0].replace(ue,""),oe=y(oe)):oe=[G[0]],le=1;le<G.length;++le)if(strlen(G[le])>h){var ge=v(G[le]);le<G.length-1&&(ge=y(ge)),oe=oe.concat(ge)}else oe.push(G[le])}else(oe=v(J+H+s))[0]=oe[0].replace(ue,"");return oe.length>1&&$.terminal.length(oe[oe.length-1])===h&&oe.push(""),oe}});function tt(s,v){try{s=$.terminal.escape_formatting(s);var y=$.extend({},e,{unixFormattingEscapeBrackets:!0,position:P,command:!0}),T=$.terminal.apply_formatters(s,y),H=$.terminal.normalize(T[0]),J=$.terminal.length(H);return v||(V=T[1])>J&&(V=J),H}catch(ue){return alert_exception("[Formatting]",ue.stack),s}}function Je(s,v){var y=$.terminal.encode(function qe(s){return $.terminal.partition(s).join("")}(s),{tabs:e.tabs,before:v});return $.terminal.format(y,{charWidth:e.charWidth,allowedAttributes:e.allowedAttributes||[]})}function ze(s,v){return $.terminal.length(s,v)}function _t(s,v,y){return $.terminal.substring(s,v,y)}var Ee=function(){var s=Z.prev(),v=Z.next(),y=Z.parent();function T(G,fe){var le=G.match(Me);le&&(G=G.replace(Me," ")),y.toggleClass("cmd-end-line",!!le);var c,ge=!1,n=$.extend({prompt:"",last:!1},fe),a=n.position,o=ze(G),l=n.prompt;if(a===o)s.html(Je(G)),c="&nbsp;",J(),v.html("");else if(0===a)s.html(""),c=_t(G,0,1),Z.html(Je(c)),v.html(Je(_t(G,1),l+c));else{var b=$.terminal.substring(G,0,a);s.html(Je(b,l)),c=_t(G,a,a+1);var k=(l+b).replace(/^.*\t/,"");Z.html(Je(c,k)),a===o-1?(ge=!0,v.html("")):(c.match(/\t/)?k="":k+=c,v.html(Je(_t(G,a+1),k)))}if(ch_unit_bug)if(typeof wcwidth<"u"){var S=strlen(text(c));1===S&&function jt(s){return!!$.terminal.is_formatting(s)&&s.replace(format_parts_re,"$4").match(/^emoji /)}(c)&&(S=2),Z.width(x*S)}else Z.width(x);Z.toggleClass("cmd-end-line",ge),Yt();var L=$.terminal.length(Z.text());L>1&&Z.find("[data-text]")[0].style.setProperty("--length",L);Pe()}function H(G,fe){var ge='<div role="presentation" aria-hidden="true"';return G.match(Me)&&(G=G.replace(Me," "),ge+=' class="cmd-end-line"'),ge+=">"+Je(G,fe||"")+"</div>"}function J(){Z.html('<span data-text class="end"><span>&nbsp;<span></span>')}function ue(G){var fe=y;$.each(G,function(le,ge){fe=$(H(ge)).insertAfter(fe)})}function oe(G){$.each(G,function(fe,le){y.before(H(le,0===fe?j:""))})}return function(){var G;switch(typeof e.mask){case"boolean":G=e.mask?A.replace(/./g,"*"):A;break;case"string":G=A.replace(/./g,e.mask)}var le,ge,fe=tt(G);if(le=ze(fe)===text(G).length?P:V,D.css({display:"none"}),D.find("div:not(.cmd-cursor-line)").remove(),s.html(""),function vt(s){var v=strlen(text(s));return v>0&&v>h-U-1||s.match(/\n/)}(fe)){var n=fe.match(/\t/g),a=fe;n&&(fe=fe.replace(/\t/g,"\0\0\0\0"));var o=function Ue(s){return ht.get(s)}(fe);n&&(o=$.map(o,function(F){return F.replace(/\x00\x00\x00\x00/g,"\t")}));var l=ze(o[0]);if(0!==l||1!==o.length)if(le<l)T(o[0],{length:o.length,position:le,prompt:j}),ue(o.slice(1));else if(le===l)y.before(H(o[0],j)),T(o[1]||"",{length:o.length,position:0,last:o.length<=2}),o.length>2&&ue(o.slice(2));else{var c=o.slice(-1)[0],k=ze(a)-le,S=ze(c),L=0;if(-1===k&&(k=0),k<=S)oe(o.slice(0,-1)),L=S===k?0:S-k,T(c,{length:o.length,position:L,last:!0});else{var B,W;for(L=le,ge=0;ge<o.length;++ge){var I=$.terminal.length(o[ge]);if(!(L>I))break;L-=I}if(B=ge,L===ze(W=o[ge])&&(L=0,(W=o[++B])===undefined)){var Q=$.terminal.defaults.strings.redrawError;throw new Error(Q)}T(W,{length:o.length,position:L}),oe(o.slice(0,B)),ue(o.slice(B+1))}}i.find(".cmd-cursor-line ~ div:last-of-type").append("<span></span>")}else""===fe?(s.html(""),J(),v.html("")):T(fe,{length:1,position:le});var ae=y.prevUntil(".cmd-prompt").length;is_css_variables_supported?i[0].style.setProperty("--cursor-line",ae):g.$node.css("top",14*ae+"px"),D.css({display:""})}}(),Pt=function(){function s(y,T){var H=$.extend({},e,{position:T,command:!0});return $.terminal.apply_formatters(y,H)[1]}function v(y,T,H){var J=s(H,T);return J===y?s(H,T+1)>y?0:1:J<y?1:-1}return function(y,T){if(0===T)return 0;var H=(y=bare_text(y)).length,ue=binary_search(0,H,T,v,[$.terminal.escape_brackets(A)]),oe=$.terminal.split_characters(y);if(H>oe.length)for(var G=0,fe=0;fe<oe.length;++fe)if((G+=oe[fe].length)>=ue)return G;return ue}}();function Bt(){return O?new Array(O+1).join("\uffff"):""}var $e,we=function(){function v(y,T){y&&((T&&T.formatters||!T)&&(y=$.terminal.apply_formatters(y,{prompt:!0}),y=$.terminal.normalize(y)),y=crlf(y));var H=function s(y){if(!y)return z=0,U=O,y;var H=Bt()+y,J=$.terminal.split_equal(H,h);J=(J=J.map(function(fe){return fe.replace(/^\uFFFF+/,"")})).map(function(fe){return $.terminal.have_formatting(fe)?$.terminal.format_split(fe).map(function(le){return $.terminal.is_formatting(le)?le:"[[;;]"+$.terminal.escape_brackets(le)+"]"}).join(""):"[[;;]"+$.terminal.escape_brackets(fe)+"]"});var ue={charWidth:e.charWidth};j=J[J.length-1];var oe=$.terminal.encode(J[J.length-1],{tabs:e.tabs}),G=$.terminal.format(oe,ue);return z=strlen(text(oe)),U=z+O,J.slice(0,-1).map(function(fe){return fe=$.terminal.encode(fe,{tabs:e.tabs}),'<span class="cmd-line">'+$.terminal.format(fe,ue)+"</span>"}).concat([G]).join("\n")}(y);if(R=y,H=H||$.terminal.format("[[;;]\u200b]"),te.html()!==H){te.html(H);var J=te.find("> span span");g.$node.attr("data-cmd-prompt",te.text()),is_ch_unit_supported&&(te.hide(),J.each(function(){var ue=$(this),oe=strlen(ue.text());0===oe?ue.css("width",1):ue.css("width",oe+"ch")}),te.show())}}return function(y){$e&&$e.set&&($e.set=$.noop,$e=null);var T=$e={set:v};with_prompt(pe,function(H){T.set(H,y)},i)}}();function gt(){is_function(e.onCommandChange)&&e.onCommandChange.call(i,A)}function yt(s,v,y){var T=s.substring(0,v);if(0===v||!s.length)return 0;var ue=T.match(/\n?([^\n]*)$/)[1].length;return!at(T)&&(y||Lt(T,U))&&(ue+=U),0===ue?ue:0===(ue%=h)?h:ue}$.extend(i,{option:function(s,v){return typeof v>"u"?e[s]:(e[s]=v,i)},name:function(s){if(s!==undefined){ie=s;var v=ee&&ee.enabled()||!ee;return ee=new History(ie,e.historySize,"memory"===e.history),v||ee.disable(),i}return ie},purge:function(){return ee.clear(),i},history:function(){return ee},delete:function(s,v){var y,T;return 0===s?"":(s<0?P>0&&(y=A.slice(0,P).slice(s),T=(T=bare_text(A)).slice(0,P+s)+T.slice(P,T.length),v||i.position(P+s)):""!==A&&(T=text(A),P<T.length&&(y=T.slice(P).slice(0,s),T=T.slice(0,P)+T.slice(P+s,T.length))),y&&(A=T),Ee(),t(),gt(),y)},set:function(s,v,y){if(s!==undefined){var T=s!==A;A=s,v||i.position(bare_text(A).length),Ee(),t(),!y&&T&&gt()}return i},keymap:function(s,v){function y(T,H){var J=pt[T];return is_function(J)&&(J=J.bind(i)),function(ue){return H.call(i,ue,J)}}if(null===s)return He=pt,i;if(typeof s>"u")return He;if("string"!=typeof s)return He=$.extend({},He||pt,$.omap(s||{},y)),i;if(typeof v>"u"){if(He[s])return He[s];if(pt[s])return pt[s]}else He[s]=y(s,v)},insert:function(s,v){var y=bare_text(A),T=bare_text(s).length;return P===y.length?s=y+s:0===P?s+=y:s=y.slice(0,P)+s+y.slice(P),A=s,v||i.position(T,!0,!0),t(),Ee(),gt(),i},get:function(){return A},commands:function(s){return s&&(e.commands=s,i)},destroy:function(){return Ie.unbind("keypress.cmd",Nt),Ie.unbind("keydown.cmd",ct),Ie.unbind("input.cmd",Se),i.stopTime("blink",kt),i.find(".cmd-wrapper").remove(),i.find(".cmd-prompt, .cmd-clipboard, .cmd-editable").remove(),i.removeClass("cmd").removeData("cmd").off(".cmd"),i},display_column:function(s){var v=tt(A);return yt(v=$.terminal.strip(v),V,s)},column:function(s){return yt(A,P,s)},line:function(){var s=A.substring(0,P);return 0!==P&&A.length?s.split(/\n/).length-1:0},__set_prompt_margin:function(s){U=z+(O=s)},prompt:function(s,v){if(!0===s)return R;if(s===undefined)return pe;var y=s!==pe;if("string"!=typeof s&&"function"!=typeof s)throw new Error("prompt must be a function or string");return pe=s,y&&(we(v),Ee()),i},kill_text:function(){return ne},position:function(s,v,y){if("number"==typeof s){var T=P,H=bare_text(A).length;return v?P+=s:P=s<0?0:s>H?H:s,T!==P&&(Ee(),!y&&is_function(e.onPositionChange)&&e.onPositionChange(P,V),t(!0)),i}return P},refresh:function(){return we(),Ee(),t(!0),i},display_position:function(s,v){if(s===undefined)return V;var J,T=ze(tt($.terminal.escape_formatting(A),!0)),H=bare_text(A).length;if(J=v?V+s:s>T?T:s,T===H)return V=J,i.position(J);if(T===J)return V=J,i.position(H);var ue=Pt(A,J);return-1!==ue&&(V=J,i.position(ue)),i},visible:function(){var s=i.visible;return function(){return s.apply(i,[]),Ee(),we(),i}}(),show:function(){var s=i.show;return function(){return s.apply(i,[]),Ee(),we(),i}}(),resize:function(s){var v;return x=mt(),v="number"==typeof s?s:Ze(x),(h!==v||!0===arguments[0])&&(h=v,we(),Ee()),i},clear_cache:"Map"in root?function(){ht.clear()}:function(){return i},invoke_key:function(s){se||warn('invoke_key("'+s+'") called on disabled terminal');var v=s.toUpperCase().split("+"),y=v.pop(),T=-1!==v.indexOf("CTRL"),H=-1!==v.indexOf("SHIFT"),J=-1!==v.indexOf("ALT"),ue=-1!==v.indexOf("META"),oe=$.Event("keydown",{ctrlKey:T,shiftKey:H,altKey:J,metaKey:ue,which:bt[y],key:y}),G=$(document.documentElement||window);return G.trigger(oe),(oe=$.Event("keypress")).key=y,oe.which=oe.keyCode=0,G.trigger(oe),i},clip:function(){return g},enable:function(s){if(!se){se=!0,i.addClass("enabled");try{g.$node.is(":focus")||g.$node.focus(),g.$node.caret(P)}catch{}Fe(!0),!s&&is_function(pe)&&we(),Yt(),t()}return Jt(),i},isenabled:function(){return se},disable:function(s){return se=!1,i.removeClass("enabled"),Fe(!1),s||Jt(),i},mask:function(s){return typeof s>"u"?e.mask:(e.mask=s,Ee(),i)}}),i.name(e.name||e.prompt||""),x=mt(),h=Ze(x),!1!==e.prompt&&(pe=e.prompt,we()),!0===e.enabled&&i.enable(),e.history||ee.disable();var Ce,Te,ke=!0,Tt=!1,rt=!1,ft=!1,Ve=!1,lt=!1,d=!0,Ne=!1,Oe=!1,ye=!1,be=!1,Ke="";function zt(s){return"BACKSPACE"===s.key.toUpperCase()||8===s.which}var Le=!1;function ct(s){var v;s.key,s.fake,s.which,Oe="process"===(s.key||"").toLowerCase()||0===s.which,rt=Ve&&ft&&!zt(s);try{s.fake||(ft=function me(s){return s.key&&1===s.key.length&&!s.ctrlKey}(s),lt="unidentified"===String(s.key).toLowerCase(),Ne=zt(s))}catch{}if("Unidentified"!==s.key){!s.fake&&-1===["meta","os"].indexOf(s.key.toLowerCase())&&(d=!1),Ve=!0,g.$node.off("input",Ft);var y=function Zt(s){if(s.key){var v=Rt(s).toUpperCase();if("CONTROL"===v)return"CTRL";var y=[];return s.ctrlKey&&y.push("CTRL"),s.metaKey&&"META"!==v&&y.push("META"),s.shiftKey&&"SHIFT"!==v&&y.push("SHIFT"),s.altKey&&"ALT"!==v&&y.push("ALT"),y.length&&" "===v&&(v="SPACEBAR"),s.key&&y.push(v),y.join("+")}}(s);if(is_function(e.keydown)&&(s.key=Rt(s),(v=e.keydown.call(i,s))!==undefined))return v||(Ce=!0),v;if(y!==Te&&he(),se||"CTRL+C"===y&&is_terminal_selected(i)){if(ye){if(Te=y,y="HOLD+"+y,be)return;e.holdRepeatTimeout>0&&function q(s){return-1!==["HOLD+SHIFT+BACKSPACE","HOLD+BACKSPACE"].indexOf(s)&&e.mobileDelete||-1!==e.repeatTimeoutKeys.indexOf(s)}(y)&&(be=!0,i.oneTime(e.holdRepeatTimeout,"delay",function(){be=!1}))}else i.oneTime(e.holdTimeout,"hold",function(){ye=!0}),Te=y;if(!s.fake&&is_android){if(Le)return he(),Le=!1,!1;u(y)?Le=!0:u(Te)&&(Le=!1)}if(Pe(),Ce=-1!==["CTRL+V","META+V"].indexOf(y),"enter"===y.toLowerCase()&&(ke=!0),E&&function Qt(s){return 35===s.which||36===s.which||37===s.which||38===s.which||39===s.which||40===s.which||13===s.which||27===s.which}(s))(function er(){pe=Y,E=!1,C=null,w=""})(),we(),27===s.which&&i.set(""),Ee(),13===s.which&&ct.call(this,s);else{if(!is_function(He[y])){if(s.altKey)return;return void(Tt=!1)}if(!0===(v=He[y](s)))return;if(v!==undefined)return v}}}else d=!0}function he(){i.stopTime("hold"),i.stopTime("delay"),be=ye=!1}var Ie=$(document.documentElement||window);function Nt(s){var v;if(s.key,s.fake,he(),s.fake||(Ve=!1),(!s.ctrlKey&&!s.metaKey||s.altKey)&&!Tt){if(is_function(e.keypress)&&(v=e.keypress.call(i,s))!==undefined)return v||(Ce=!0),v;if(se){if(s.fake)return;var y;if(is_key_native){var T=(y=s.key).toUpperCase();xt[T]&&(y=xt[T])}if((!y||lt)&&(y=String.fromCharCode(s.which)),$.inArray(s.which,[13,0,8])>-1)return 123===s.keyCode&&void 0;y&&(!s.ctrlKey||s.ctrlKey&&s.ctrlKey)&&(!s.altKey||100!==s.which||s.altKey)&&!rt&&(E?(w+=y,Xe(),st()):1===y.length&&i.insert(y))}}}function Ct(s,v,y){var T=$.Event(s);T.which=y,T.key=v,T.fake=!0,Ie.trigger(T)}i.keymap(e.keymap||{});var Ye=!1;function je(){Ke=A,Ce=!1,d=!0}function Se(){var s=g.val();if(is_mobile||(s=s.replace(/^ /,"")),d||Oe||(Ve||rt)&&!Ce&&(ft||lt)&&!Ne){if(s&&s===A)return is_android&&d&&Ct("keydown","Enter",13),void je();var v=P;if(d){var y=Ke;Ne=y.slice(0,y.length-1).length===s.length}if(Ye)return Ye=!1,void g.val(A);if(E)w=s,Xe(),st();else{var T=s.slice(P);if(1===T.length||Ne){var J,H=get_next_character(T);if(u(H)&&(Ye=!0),d)J=Ne?8:T.toUpperCase().charCodeAt(0),Ct("keydown",Ne?"Backspace":T,J);Ve&&!Ne&&Ct("keypress",H,T.charCodeAt(0))}if(Ne)return void(Ke=A);if(Ce)return void(Ce=!1);i.set(s)}Ne?i.position(v-1):i.position(v+Math.abs(s.length-Ke.length))}je()}return Ie.bind("keypress.cmd",Nt),Ie.bind("keydown.cmd",ct),Ie.bind("keyup.cmd",he),Ie.bind("input.cmd",Se),function(){if(is_mobile)return $(i[0]).add(g.$node).on("touchstart.cmd",function(){i.isenabled()?g.blur():g.focus()}),void i.disable();var s=!1,v=0;i.on("mousedown.cmd",function(){s=!0}).on("mouseup.cmd",function(y){function T(){var oe=$(y.target);!oe.is(".cmd-prompt")&&ue&&""===get_selected_html()&&se&&(oe.is(".cmd")?i.position(text(A).length):i.display_position(function ve(s){var v=$(s.target);if(v.is("span,img,a"))return(v=v.closest("[data-text]")).index()+v.parent("span").prevAll().find("[data-text]").length+v.closest('[role="presentation"]').prevUntil(".cmd-prompt").find("[data-text]").length;if(v.is('div[role="presentation"]')){var y=!v.next().length;return v.find("[data-text]").length+v.prevUntil(".cmd-prompt").find("[data-text]").length-(y?0:1)}}(y))),v=0}if(0===(y.originalEvent===undefined?y.button:y.originalEvent.button)&&""===get_selected_html()){var J="click_"+p;if(1==++v){var ue=s;se?0===e.clickTimeout?T():i.oneTime(e.clickTimeout,J,T):v=0}else i.stopTime(J),v=0}s=!1})}(),i.data("cmd",i),"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw new Error("key event property not supported try https://github.com/inexorabletash/polyfill/blob/master/keyboard.js")},0),i};var strlen=function(){return typeof wcwidth>"u"?function(r){return r=r.replace(/\u200B/g,""),$.terminal.length(r)}:wcwidth}();function count_selfclosing_formatting(r){var e=0;if($.terminal.have_formatting(r)){var u=new RegExp(format_parts_re.source,"i");$.terminal.format_split(r).forEach(function(i){if($.terminal.is_formatting(i)){var f=i.match(u);f&&f[1].match(/@/)&&""===f[6]&&e++}})}return e}var entities={"&amp;":"&","&lt;":"<","&gt;":">","&Agrave;":"\xc0","&Aacute;":"\xc1","&Acirc;":"\xc2","&Atilde;":"\xc3","&Auml;":"\xc4","&Aring;":"\xc5","&AElig;":"\xc6","&Ccedil;":"\xc7","&Egrave;":"\xc8","&Eacute;":"\xc9","&Ecirc;":"\xca","&Euml;":"\xcb","&Igrave;":"\xcc","&Iacute;":"\xcd","&Icirc;":"\xce","&Iuml;":"\xcf","&ETH;":"\xd0","&Ntilde;":"\xd1","&Ograve;":"\xd2","&Oacute;":"\xd3","&Ocirc;":"\xd4","&Otilde;":"\xd5","&Ouml;":"\xd6","&Oslash;":"\xd8","&Ugrave;":"\xd9","&Uacute;":"\xda","&Ucirc;":"\xdb","&Uuml;":"\xdc","&Yacute;":"\xdd","&THORN;":"\xde","&szlig;":"\xdf","&agrave;":"\xe0","&aacute;":"\xe1","&acirc;":"\xe2","&atilde;":"\xe3","&auml;":"\xe4","&aring;":"\xe5","&aelig;":"\xe6","&ccedil;":"\xe7","&egrave;":"\xe8","&eacute;":"\xe9","&ecirc;":"\xea","&euml;":"\xeb","&igrave;":"\xec","&iacute;":"\xed","&icirc;":"\xee","&iuml;":"\xef","&eth;":"\xf0","&ntilde;":"\xf1","&ograve;":"\xf2","&oacute;":"\xf3","&ocirc;":"\xf4","&otilde;":"\xf5","&ouml;":"\xf6","&oslash;":"\xf8","&ugrave;":"\xf9","&uacute;":"\xfa","&ucirc;":"\xfb","&uuml;":"\xfc","&yacute;":"\xfd","&thorn;":"\xfe","&yuml;":"\xff","&nbsp;":"\xa0","&iexcl;":"\xa1","&cent;":"\xa2","&pound;":"\xa3","&curren;":"\xa4","&yen;":"\xa5","&brvbar;":"\xa6","&sect;":"\xa7","&uml;":"\xa8","&copy;":"\xa9","&ordf;":"\xaa","&laquo;":"\xab","&not;":"\xac","&shy;":"\xad","&reg;":"\xae","&macr;":"\xaf","&deg;":"\xb0","&plusmn;":"\xb1","&sup2;":"\xb2","&sup3;":"\xb3","&acute;":"\xb4","&micro;":"\xb5","&para;":"\xb6","&cedil;":"\xb8","&sup1;":"\xb9","&ordm;":"\xba","&raquo;":"\xbb","&frac14;":"\xbc","&frac12;":"\xbd","&frac34;":"\xbe","&iquest;":"\xbf","&times;":"\xd7","&divide;":"\xf7","&forall;":"\u2200","&part;":"\u2202","&exist;":"\u2203","&empty;":"\u2205","&nabla;":"\u2207","&isin;":"\u2208","&notin;":"\u2209","&ni;":"\u220b","&prod;":"\u220f","&sum;":"\u2211","&minus;":"\u2212","&lowast;":"\u2217","&radic;":"\u221a","&prop;":"\u221d","&infin;":"\u221e","&ang;":"\u2220","&and;":"\u2227","&or;":"\u2228","&cap;":"\u2229","&cup;":"\u222a","&int;":"\u222b","&there4;":"\u2234","&sim;":"\u223c","&cong;":"\u2245","&asymp;":"\u2248","&ne;":"\u2260","&equiv;":"\u2261","&le;":"\u2264","&ge;":"\u2265","&sub;":"\u2282","&sup;":"\u2283","&nsub;":"\u2284","&sube;":"\u2286","&supe;":"\u2287","&oplus;":"\u2295","&otimes;":"\u2297","&perp;":"\u22a5","&sdot;":"\u22c5","&Alpha;":"\u0391","&Beta;":"\u0392","&Gamma;":"\u0393","&Delta;":"\u0394","&Epsilon;":"\u0395","&Zeta;":"\u0396","&Eta;":"\u0397","&Theta;":"\u0398","&Iota;":"\u0399","&Kappa;":"\u039a","&Lambda;":"\u039b","&Mu;":"\u039c","&Nu;":"\u039d","&Xi;":"\u039e","&Omicron;":"\u039f","&Pi;":"\u03a0","&Rho;":"\u03a1","&Sigma;":"\u03a3","&Tau;":"\u03a4","&Upsilon;":"\u03a5","&Phi;":"\u03a6","&Chi;":"\u03a7","&Psi;":"\u03a8","&Omega;":"\u03a9","&alpha;":"\u03b1","&beta;":"\u03b2","&gamma;":"\u03b3","&delta;":"\u03b4","&epsilon;":"\u03b5","&zeta;":"\u03b6","&eta;":"\u03b7","&theta;":"\u03b8","&iota;":"\u03b9","&kappa;":"\u03ba","&lambda;":"\u03bb","&mu;":"\u03bc","&nu;":"\u03bd","&xi;":"\u03be","&omicron;":"\u03bf","&pi;":"\u03c0","&rho;":"\u03c1","&sigmaf;":"\u03c2","&sigma;":"\u03c3","&tau;":"\u03c4","&upsilon;":"\u03c5","&phi;":"\u03c6","&chi;":"\u03c7","&psi;":"\u03c8","&omega;":"\u03c9","&thetasym;":"\u03d1","&upsih;":"\u03d2","&piv;":"\u03d6","&OElig;":"\u0152","&oelig;":"\u0153","&Scaron;":"\u0160","&scaron;":"\u0161","&Yuml;":"\u0178","&fnof;":"\u0192","&circ;":"\u02c6","&tilde;":"\u02dc","&ensp;":"\u2002","&emsp;":"\u2003","&thinsp;":"\u2009","&zwnj;":"\u200c","&zwj;":"\u200d","&lrm;":"\u200e","&rlm;":"\u200f","&ndash;":"\u2013","&mdash;":"\u2014","&lsquo;":"\u2018","&rsquo;":"\u2019","&sbquo;":"\u201a","&ldquo;":"\u201c","&rdquo;":"\u201d","&bdquo;":"\u201e","&dagger;":"\u2020","&Dagger;":"\u2021","&bull;":"\u2022","&hellip;":"\u2026","&permil;":"\u2030","&prime;":"\u2032","&Prime;":"\u2033","&lsaquo;":"\u2039","&rsaquo;":"\u203a","&oline;":"\u203e","&euro;":"\u20ac","&trade;":"\u2122","&larr;":"\u2190","&uarr;":"\u2191","&rarr;":"\u2192","&darr;":"\u2193","&harr;":"\u2194","&crarr;":"\u21b5","&lceil;":"\u2308","&rceil;":"\u2309","&lfloor;":"\u230a","&rfloor;":"\u230b","&loz;":"\u25ca","&spades;":"\u2660","&clubs;":"\u2663","&hearts;":"\u2665","&diams;":"\u2666"};function render_entities(r){return r.replace(/&#(x?)([0-9]+);/g,function(e,u,i){return i=parseInt(i,u?16:10),String.fromCharCode(i)}).replace(/(&[^;]+;)/g,function(e,u){return entities[u]||u})}function bare_text(r){return r.match(/&/)?render_entities(safe(r)):r}function text(r){return bare_text($.terminal.strip(r))}function safe(r){return r.match(/[<>&]/)?r.replace(/&(?![^;]+;)/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"):r}function crlf(r){return r.replace(/\r/g,"")}function char_len(r){return entity_re.test(r)?1:r.length}function make_re_fn(r){return function(u){var i=u.match(r);if(starts_with(i))return i[1]}}function starts_with(r){return r&&0===r.index}function is_simple_text(r){for(var e=[entity_re,emoji_re,combine_chr_re,astral_symbols_re],u=0;u<e.length;++u)if(e[u].test(r))return!1;return!0}function make_next_char_fun(r){var e=[];return[entity_re,emoji_re,combine_chr_re].forEach(function(u){u.test(r)&&e.push(make_re_fn(u))}),astral_symbols_re.test(r)&&e.push(function(i){var f=i.match(astral_symbols_re);if(starts_with(f)){var p=i.match(combine_chr_re);return p&&1===p.index?i.slice(0,3):f[1]}}),function(i){for(var f=0;f<e.length;++f){var D=(0,e[f])(i);if(D)return D}return i[0]}}function get_next_character(r){var e=r.match(entity_re);if(starts_with(e))return e[1];var u=r.match(combine_chr_re);if(starts_with(u))return u[1];var i=r.match(emoji_re);return starts_with(i)?i[1]:r.charCodeAt(0)<255?r[0]:starts_with(r.match(astral_symbols_re))?(u=r.match(combine_chr_re))&&1===u.index?r.slice(0,3):r.slice(0,2):r[0]}function normalize_position(r,e){if(0===e)return e;r=$.terminal.strip(r);var u=$.terminal.split_characters(r).reduce(function(i,f){if("number"==typeof i)return i;var p=i.length+char_len(f);return p>=e?i.position+1:{position:i.position+1,length:p}},{position:0,length:0});return"number"==typeof u?u:u.position}function style_to_string(r){return Object.keys(r).map(function(e){return e+":"+r[e]}).join(";")}function escape_html_attr(r){return r.replace(/"/g,"&quot;")}function char_width_object(r,e){var u={};return 0===r?u.width="1px":is_ch_unit_supported?u.width=r+"ch":is_css_variables_supported?u["--length"]=r:e.charWidth&&(u.width=e.charWidth*r+"px"),u}function char_width_prop(r,e){return style_to_string(char_width_object(r,e))}function extra_css(r,e){if(typeof wcwidth<"u"){var u=bare_text(r),i=strlen(u);if(i>1&&i!==$.terminal.length(u))return char_width_object(i,e)}}function wide_characters(r,e){if(typeof wcwidth<"u"){var u=bare_text(r),i=$.terminal.split_characters(u);return 1===i.length?r:i.map(function(_){return{len:strlen(_),chr:_}}).reduce(function(_,g){var h=_[_.length-1];return h?h.len!==g.len?_.concat([{sum:g.len,len:g.len,specs:[g]}]):(_.pop(),_.concat([{sum:h.sum+g.len,len:h.len,specs:h.specs.concat(g)}])):[{sum:g.len,specs:[g],len:g.len}]},[]).map(function(_){if(1===_.len)return p(_);var g=char_width_prop(_.sum,e);return _.sum!==i.length&&g.length?_.specs.length>1?D(g,_.specs.map(function(h){return D(char_width_prop(h.len),h.chr)}).join("")):D(g,p(_)):"<span>"+p(_)+"</span>"}).join("")}function p(_){return _.specs.map(function(g){return g.chr}).join("")}function D(_,g){return'<span style="'+_+'">'+g+"</span>"}return r}function binary_search(r,e,u,i,f){var p=e-r,D=r+Math.floor(p/2),_=[u,D].concat(f),g=i.apply(null,_);return 0===g?D:g>0&&p>1?binary_search(D,e,u,i,f):g<0&&p>1?binary_search(r,D,u,i,f):-1}function is_terminal_selected(r){if(is_function(window.getSelection)){var e=window.getSelection();if(e.toString()){var u=e.getRangeAt(0).startContainer.parentNode,i=$(u).closest(".terminal");return i.length&&(r&&i.find(".cmd").is(r)||!r)}}}function get_selected_html(){var r="";if(is_function(window.getSelection)){var e=window.getSelection();if(e.rangeCount){for(var u=document.createElement("div"),i=0,f=e.rangeCount;i<f;++i)u.appendChild(e.getRangeAt(i).cloneContents());r=u.innerHTML}}return r}function with_selection(r){var e="",u=[];if(is_function(window.getSelection)){var i=window.getSelection();if(i.rangeCount){for(var f=document.createElement("div"),p=0,D=i.rangeCount;p<D;++p){var _=i.getRangeAt(p).cloneRange();u.push(_),f.appendChild(_.cloneContents())}e=f.innerHTML}}return r(e),u.length&&(i.removeAllRanges(),u.forEach(function(g){i.addRange(g)})),""!==e}function process_selected_line(){var r=$(this),e=r.text();return r.hasClass("cmd-end-line")&&(e+="\n"),e}function process_div(r){return $(r).find("> div, > span").map(process_selected_line).get().join("\n").replace(/\n$/,"")}function process_selected_html(r){var e,u="",i=$("<div>"+r+"</div>");r.match(/<\/div>/)&&(!(e=i.find("div[data-index]").map(function(){return process_div(this)}).get().join("\n"))&&r.match(/style="width: 100%;?"/)&&(e=process_div(i)),u=e);var f=i.find(".cmd-prompt");f.length&&(u.length&&(u+="\n"),u+=f.text());var p=i.find('[role="presentation"]');return p.length&&(u+=p.map(process_selected_line).get().join("")),!u.length&&r&&(u=i.text()),u.replace(/\xA0/g," ")}var support_copy=!(typeof document>"u"||!is_function(document.queryCommandSupported))&&document.queryCommandSupported("copy"),text_to_clipboard;text_to_clipboard=support_copy?function(e,u){var i=e.val(),f=e.is(":focus"),p=e.caret();if(window.navigator&&window.navigator.clipboard)navigator.clipboard.writeText(u);else if(f)e.val(u).focus(),e[0].select(),document.execCommand("copy"),e.val(i),e.caret(p);else{var D=$("<textarea/>").css({position:"fixed",top:0,left:0}).appendTo("body");D.val(u).focus(),D[0].select(),document.execCommand("copy"),D.blur(),D.remove()}return!0}:$.noop;var get_textarea_selection=function(){function r(){return""}if(typeof document>"u")return r;var e=document.createElement("textarea"),u="selectionStart"in e;return e=null,u?function(i){var f=i.selectionEnd-i.selectionStart;return i.value.substr(i.selectionStart,f)}:document.selection?function(){return document.selection.createRange().text()}:r}();function clear_textarea_selection(r){r.selectionStart=r.selectionEnd=0}function common_string(r,e,u){if(!e.length)return"";for(var i=string_case(r),f=[],p=r.length;p<e[0].length;++p){for(var D=!1,_=e[0].charAt(p),g=_.toLowerCase(),h=1;h<e.length;++h){D=!0;var x=e[h].charAt(p),R=x.toLowerCase();if(_!==x){if(u||"mixed"===i){D=!1;break}if(g!==R){D=!1;break}if("lower"===i)_=_.toLowerCase();else{if("upper"!==i){D=!1;break}_=_.toUpperCase()}}}if(!D)break;f.push(_)}return r+f.join("")}function trigger_terminal_change(r){terminals.forEach(function(e){e.settings().onTerminalChange.call(e,r)})}var select=root.getSelection?root.getSelection().setBaseAndExtent?function(e,u){root.getSelection().setBaseAndExtent(e,0,u,1)}:function(e,u){var i=root.getSelection(),f=document.createRange();f.setStart(e,0),f.setEnd(u,u.childNodes.length),i.removeAllRanges(),i.addRange(f)}:$.noop;function process_command(r,e){var u=r.trim(),i=u.match(command_re)||[];if(i.length){var f=i.shift();return{command:r,name:f,args:$.map(i,function(g){return g.match(/^["']/)?(g=g.replace(/\n/g,"\\u0000\\u0000\\u0000\\u0000"),(g=e(g)).replace(/\x00\x00\x00\x00/g,"\n")):e(g)}),args_quotes:$.map(i,function(g){var h=g.match(/^(['"`]).*\1$/);return h&&h[1]||""}),rest:u.slice(f.length).trim()}}return{command:r,name:"",args:[],args_quotes:[],rest:""}}function on_height_change(r){var e=window.visualViewport.scale,u=Math.round(window.visualViewport.height*e);r(u),window.visualViewport.addEventListener("resize",function(){var i=window.visualViewport.scale,f=Math.round(window.visualViewport.height*i);u!==f&&r(u=f)})}$.terminal={version:"2.43.1",date:"Sun, 08 Sep 2024 09:58:43 +0000",color_names:["transparent","currentcolor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","rebeccapurple"],Cycle,History,Stack,valid_color:function(e){return!!e.match(color_re)||-1!==$.inArray(e.toLowerCase(),$.terminal.color_names)},unclosed_strings:function(e){return!!e.match(unclosed_strings_re)},escape_regex:function(e){if("string"==typeof e){return e.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")}},have_formatting:function(e){return"string"==typeof e&&!!e.match(format_exist_re)},is_formatting:function(e){return"string"==typeof e&&!!e.match(format_full_re)},is_extended_command:function(e){return"string"==typeof e&&e.match(format_exec_re)&&!$.terminal.is_formatting(e)},each_extended_command:function(r,e){var u=r.split(format_exec_split_re);return $.map(u,function(i){if($.terminal.is_extended_command(i)){var f=i.replace(/^\[\[|\]\]$/g,"");return e(f)||""}return i}).join("")},format_split:function(e){return e.split(format_split_re).filter(Boolean)},tracking_replace:function(e,u,i,f){if(!(u instanceof RegExp))throw new Error("tracking_replace: Second argument need to be RegExp");function p(U,te,E){return U.slice(te,E)}function D(U){return $.terminal.strip(U).length}var g,x,j,_="",h=0,R=f;for(u.lastIndex=0;g=u.exec(e);){if(u.global){var z=D(p(e,0,u.lastIndex));j=z-D(g[0])}else z=(j=g.index)+D(g[0]);if(h<j&&(_+=p(e,h,j)),h=z,_+=x="function"==typeof i?i.apply(null,g):i.replace(/\$(\$|\d)/g,function(U,te){return"$"===te?"$":g[te]}),j<f){var O=D(x);O+=count_selfclosing_formatting(x),z<f?R=Math.max(0,R+O-D(g[0])):R+=O-(f-j)}if(!u.global)break}return h<D(e)&&(_+=p(e,h)),e===_?[e,f]:[_,R]},iterate_formatting:function(e,u){function p(ve){return te?e.slice(ve).match(entity_re):null}function _(ve){return"\\"!==e[ve-1]&&"\\"===e[ve]&&"]"===e[ve+1]}function g(ve){return"]"===e[ve]||"["===e[ve]}function h(ve){return Z&&!Fe&&("]"!==e[ve]&&!ee||!U)||w&&!E}var x=make_next_char_fun(e);function R(){var ve=x(ie);return ve.length>1&&$.terminal.length(ie)>1?ve.length-1:0}function j(){return function f(ve){return te&&"&nbsp;"===e.slice(ve-6,ve)||function i(ve){return" "===ve||"\t"===ve||"\n"===ve}(e[ve-1])}(V)&&(Z||Fe)&&(-1===A&&ne!==V||-1!==A)}var ve,z=!1;for(var Y,ne,U=$.terminal.have_formatting(e),te=entity_re.test(e),E="",w=!1,C=0,A=-1,re=-1,P=0,pe=0,se=/(&[^;]+);$/,V=0;V<e.length;V++){var ie=e.slice(V),ee=!1;(Y=ie.match(format_start_re))?(E=Y[1],w=!1):E?"]"===e[V]&&(ee=w,w?(E="",w=!1):w=!0):w=!0;var Z=E&&w||!E,Fe="["===e[ve=V]&&"["===e[ve+1];j()&&(A=V,re=C);var Pe=g(V);if(pe=0,Z)if("&"===e[V]){if(Y=p(V)){V+=Y[1].length-2;continue}++C,++P}else _(V)?(++C,++P,pe=1,V+=1):(!Pe||!U||w&&!E)&&(++C,++P);if(h(V)){2===strlen(e[V])&&P++;var Ae=x(ie),Ge=Ae.length;";"===Ae&&((Y=e.slice(0,V+1).match(se))&&(Ge=(pe=Y[1].length)+1));var Be=u({last:z=V===e.length-1&&!z||E&&!!ie.match(/^.]$/),count:C,index:V-pe,formatting:E,length:P,text:w,size:Ge,space:A,space_count:re});if(!1===Be)break;if(Be&&(Be.count!==undefined&&(C=Be.count),Be.length!==undefined&&(P=Be.length),Be.space!==undefined&&(ne=A,A=Be.space),Be.index!==undefined)){V=Be.index;continue}}else V===e.length-1&&!z&&u({last:!0,count:C+1,index:V,formatting:E,length:0,text:w,space:A});w&&(V+=R())}},partition:function(e,u){var i=$.extend({wrap:!0},u);if(!$.terminal.have_formatting(e))return $.terminal.split_characters(e).map(D);var p=[];function D(g){return g.match(/\\$/)&&(g+="\\"),"[[;;]"+g+"]"}return $.terminal.iterate_formatting(e,function(h){if(h.text){var x=[];h.formatting&&x.push(h.formatting),x.push(e.substring(h.index,h.index+h.size)),h.formatting&&x.push("]"),p.push(function _(g){return $.terminal.is_formatting(g)?g.match(/\\]$/)&&(g=g.replace(/\\]/g,"\\\\]")):i.wrap&&(g=D(g)),g}(x.join("")))}}),p},substring:function(e,u,i){var f=$.terminal.split_characters(e);if(!f.slice(u,i).length)return"";if(!$.terminal.have_formatting(e))return f.slice(u,i).join("");var D,h,p=0,_="",g="",x=1;return $.terminal.iterate_formatting(e,function(j){u&&j.count===u+1&&(p=j.index,j.formatting&&(_=j.formatting)),i&&j.count===i&&(g=j.formatting,h=j.index,x=j.size),j.count===i+1&&(D=j.index,j.formatting&&(D=h+x))}),u&&!p?"":(D===undefined&&(D=e.length),e=_+e.slice(p,D),g&&(e=e.replace(/(\[\[^\]]+)?\]$/,""),e+="]"),e)},normalize:function(e){return e=e.replace(format_re,function(i,f,p){if(f.match(self_closing_re)&&""===p)return"[["+f+"] ]";if(""===p)return"";function D(R){return R.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ")}var _=(f=D(f)).match(/;/g).length;if(_>=4){var g=f.split(/;/);return"[["+g.slice(0,4).join(";")+";"+(g.slice(4).join(";")||p)+"]"+p+"]"}return 2===_?_=";;":3===_&&(_=";"),"[["+(f+=_+D(p))+"]"+p+"]"}),$.terminal.amp(e)},split_equal:function(e,u,i){"boolean"==typeof i&&(i={keepWords:i});for(var f=$.extend({trim:!1,keepWords:!1},i),p="",D=[],_=$.terminal.normalize(e).split(/\n/g),g=$.terminal.have_formatting(e),h=0,x=_.length;h<x;++h)if(""!==_[h]){var O,R=_[h],j=make_next_char_fun(R),z=0,U=R.length,te=/\[\[[^\]]+\](?:[^\][]|\\\])+\]$/.test(R),E=/^(&nbsp;|\s)/.test(R);!g&&U<u?D.push(R):$.terminal.iterate_formatting(R,function(C){var Y,A;if(C.length>=u||C.last||C.length===u-1&&2===strlen(R[C.index+1])){var re=!1;if(f.keepWords&&-1!==C.space){var ne=text(R).substring(C.space_count);ne=ne.slice(0,u).replace(/\s+$/,"");var P=strlen(ne);(space_re.test(ne)||P<u)&&(re=!0)}var se,pe=C.index+C.size;if(te&&(pe+=1),f.keepWords&&-1!==C.space&&pe!==U&&re?(O=R.slice(z,C.space),se=C.space-1):(A=R.slice(C.index),Y=j(A),O=R.slice(z,C.index)+Y,C.last&&te&&"]"!==Y&&(O+="]"),se=C.index+Y.length-1),(f.trim||f.keepWords)&&(O=O.replace(/(&nbsp;|\s)+$/g,"")),!E&&!p&&(O=O.replace(/^(&nbsp;|\s)+/g,"")),z=(se||C.index)+1,p){var V=/^[^\]]*\]/.test(O);O=p+O,V&&(p="")}var ie=O.match(format_re);if(ie){var ee=ie[ie.length-1];"]"!==ee[ee.length-1]?(p=ee.match(format_begin_re)[1],O+="]"):format_end_re.test(O)&&(O=O.replace(format_end_re,""),p=ee.match(format_begin_re)[1])}return D.push(O),{index:se,length:0,space:-1}}})}else D.push("");return D},amp:function(e){return e.replace(/&(?!#[0-9]+;|#x[0-9a-f]+;|[a-z]+;)/gi,"&amp;")},encode:function(e,u){var i=$.extend({tabs:4,before:""},u);return $.terminal.amp(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").split("\n").map(function(f){var p=f.split(/((?:\[\[[^\]]+\])?\t(?:\])?)/);return(p=p.filter(Boolean)).map(function(D,_){return D.match(/\t/)?D.replace(/\t([^\t]*)$/,function(g,h){if(0!==_&&p[_-1].match(/\t\]?$/))return new Array(i.tabs+1).join("&nbsp;")+h;var R=p.slice(_-1,_).join("");i.before&&_<=1&&(R=i.before+R);var j=$.terminal.length(R),z=i.tabs-j%i.tabs;return 0===z&&(z=4),new Array(z+1).join("&nbsp;")+h}):D}).join("")}).join("\n")},nested_formatting:function(e){if(!$.terminal.have_formatting(e))return e;var u=[],f=/\[\[([^\][]+)\][\s\S]*/,p=/^\[\[([^;]*);([^;]*);([^\]]*)\]/,D=3,_=5;function g(E,w,C){return C.indexOf(E)===w}function h(E,w){return E=function x(E){var w={};return E.split(/\s*;\s*/).forEach(function(C){var Y=C.split(":").map(function(ne){return ne.trim()}),A=Y[0],re=Y[1];w[A]=re}),w}(E),w?$.extend(w,E):E}function R(E){var w=E.slice();return E[_]&&(w[_]=function z(E){return JSON.stringify(E,function(w,C){return"style"===w?function U(E){return Object.keys(E).map(function(w){return w+":"+E[w]}).join(";")}(C):C})}(E[_])),E[D]&&(w[D]=function O(E){return E.filter(g).join(" ")}(E[D])),w[0]=function j(E){var w=E.filter(function(C){return"-"===C[0]}).map(function(C){return C[1]});return E.filter(function(C){return-1===w.indexOf(C)&&-1===w.indexOf(C[1])}).join("")}(E[0]),w.join(";")}function te(E){function w(V){C[_]||(C[_]={});try{var ie=JSON.parse(V);if(ie.style){var ee=ie.style,Z=C[_].style;ie.style=h(ee,Z),C[_]=$.extend(ie,C[_],{style:h(ee,Z)})}else C[_]=$.extend(ie,C[_])}catch{warn("Invalid JSON "+V)}}var C=[[],"",""];if(!E.length)return C;for(var Y=E.length;Y--;){var A=$.terminal.parse_formatting(E[Y]);if(A.length>5){var re=A.slice(5).join(";");A=A.slice(0,5).concat(re)}A[0].split(/(-?[@!gbiusor])/g).filter(Boolean).forEach(function(V){-1===C[0].indexOf(V)&&C[0].push(V)});for(var P=1;P<A.length;++P){var pe=A[P].trim();if(pe)if(P===D){C[D]||(C[D]=[]);var se=pe.split(/\s+/);C[D]=C[D].concat(se)}else P===_?w(pe):C[P]||(C[P]=pe)}}return R(C)}return e.split(/((?:\[\[(?:[^\][]|\\\])+\])?(?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(E){var w;if(E.match(/^\[\[/)&&!$.terminal.is_extended_command(E)){var C=E.replace(f,"$1"),Y=$.terminal.is_formatting(E);E=E.replace(p,""),u.push(C),w=$.terminal.nested_formatting.__inherit__?te(u):C,Y?u.pop():E+="]",E="[["+w+"]"+E}else{var A=!1;E.match(/\]/)&&(A=!0),u.length&&(E="[["+(w=$.terminal.nested_formatting.__inherit__?te(u):u[u.length-1])+"]"+E),A?u.pop():u.length&&(E+="]")}return E}).join("")},escape_formatting:function(e){return $.terminal.escape_brackets(e)},apply_formatters:function(e,u){if(""===e)return u&&"number"==typeof u.position?["",u.position]:"";var g,p=(u=u||{}).formatters||$.terminal.defaults.formatters,D=0;function _(O,U){var te=$.extend({},u,{position:U[1]}),E=O(U[0],te);return"string"==typeof E?(function i(O,U,te,E){!O.__no_warn__&&$.terminal.length(te)!==$.terminal.length(E)&&warn("Your formatter["+U+"] change length of the string, you should use [regex, replacement] formatter or function  that return [replacement, position] instead")}(O,D-1,E,U[0]),"string"==typeof E?[E,te.position]:U):is_array(E)&&2===E.length?E:U}g="number"==typeof u.position?[e,u.position]:[e,0];try{var h=p.reduce(function(O,U){if(D++,"function"==typeof U&&U.__meta__)return _(U,O);var re,te=0,E=!1,C=$.terminal.format_split(O[0]).map(function(se){var V,ie=text(se).length;O[1]<te+ie&&!E?(V=O[1]-te,E=!0):V=E?-1:O[1];var Z,ee=te;if(te+=ie,$.terminal.is_formatting(se))return E?[se,V]:[se,-1];if(is_array(U)){var Fe=U[2]||{};if((Z=[se,V<0?0:V])[0].match(U[0])&&function f(O){if(!u||!O)return!0;var U=["echo","command","prompt"];if(!U.some(function(C){return!0===O[C]}))return!0;for(var E=U.length;E--;){var w=U[E];if(!0===O[w]&&!0===u[w])return!0}return!1}(U[2]))if(Fe.loop)for(;Z[0].match(U[0]);)Z=$.terminal.tracking_replace(Z[0],U[0],U[1],Z[1]);else Z=$.terminal.tracking_replace(Z[0],U[0],U[1],Z[1]);if(V<0)return[Z[0],-1]}else"function"==typeof U&&(Z=_(U,[se,V]));if(typeof Z<"u"){-1!==Z[1]&&(Z[1]+=ee);text(Z[0]).length;return Z}return[se,-1]}),Y=C.filter(function(se){return-1!==se[1]})[0],A=C.map(function(se){return se[0]}).join("");re=typeof Y>"u"?O[1]:Y[1];var ne=text(A).length;return re>(ne+=count_selfclosing_formatting(A))&&(re=ne),A===O[0]?O:$.terminal.strip(O[0])===$.terminal.strip(A)?[A,O[1]]:[A,re]},g);if("number"==typeof u.position){var x=$.terminal.strip(h[0]).length;if($.terminal.length(h[0])<x){var R=h[1];R=normalize_position(h[0],R);var j=$.terminal.length(h[0]);R>j&&(R=j),h[1]=R}return h}return h[0]}catch(O){var z="Error in formatter ["+(D-1)+"]";throw p.splice(D-1),new $.terminal.Exception("formatting",z,O.stack)}},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\\/g,"&#92;")},unescape_brackets:function(e){return e.replace(/&#91;/g,"[").replace(/&#93;/g,"]").replace(/&#92;/g,"\\")},length:function(e,u){return e?$.terminal.split_characters(u?e:text(e)).length:0},split_characters:function(e){if(is_simple_text(e))return e.split("");for(var u=[],i=make_next_char_fun(e);e.length;){var f=i(e);e=e.slice(f.length),u.push(f)}return u},columns:function(e,u,i){var p=(e=e.map(function(z){return"string"!=typeof z?String(z):z})).map(function(z){return $.terminal.strip(z)}).map(function(z){return strlen(z)});typeof i>"u"&&(i=4);var D=Math.max.apply(null,p)+i,_=Math.floor(u/D)-1;if(_<1)return e.join("\n");for(var g=[],h=0,x=e.length;h<x;h+=_){var R=e.slice(h,h+_),j=R.pop();g.push(R.reduce(function(z,O){var U=$.terminal.strip(O),te=new Array(D-U.length+1).join(" ");return z.push(O+te),z},[]).join("")+j)}return g.join("\n")},strip:function(e){return $.terminal.have_formatting(e)?$.terminal.format_split(e).map(function(u){return $.terminal.is_formatting(u)?(u=u.replace(format_parts_re,"$6")).replace(/\\([[\]])/g,function(i,f){return f}):u}).join(""):e},active:function(){return terminals.front()},last_id:function(){return terminals.length()-1},parse_argument:function(e,u){function i(p){return p.split(string_re).map(function(D){if(D.match(/^['"`]/)){if('""'===D||"''"===D||"``"===D)return"";var _=D[0],g=new RegExp("(\\\\\\\\(?:\\\\\\\\)*)"+_,"g");D=D.replace(g,"$1").replace(/^[`'"]|[`'"]$/g,""),"'"===_&&(D=D.replace(/"/g,'\\"'))}return D='"'+D+'"',JSON.parse(D)}).join("")}if(!1===u)return"'"===e[0]&&"'"===e[e.length-1]?e.replace(/^'|'$/g,""):"`"===e[0]&&"`"===e[e.length-1]?e.replace(/^`|`$/g,""):'"'===e[0]&&'"'===e[e.length-1]?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):e.match(/\/.*\/[gimy]*$/)?e:e.match(/['"`]]/)?i(e):e.replace(/\\ /g," ");if("true"===e)return!0;if("false"===e)return!1;var f=e.match(re_re);return f?new RegExp(f[1],f[2]):e.match(/['"`]/)?i(e):e.match(/^-?[0-9]+n?$/)?e.match(/n$/)?BigInt(e.replace(/n$/,"")):parseInt(e,10):e.match(float_re)?parseFloat(e):e.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(e){return $.map(e.match(command_re)||[],$.terminal.parse_argument)},split_arguments:function(e){return $.map(e.match(command_re)||[],function(u){return $.terminal.parse_argument(u,!1)})},parse_command:function(e){return process_command(e,$.terminal.parse_argument)},split_command:function(e){return process_command(e,function(u){return $.terminal.parse_argument(u,!1)})},parse_options:function r(e,u){var i=$.extend({},{boolean:[]},u);if("string"==typeof e)return r($.terminal.split_arguments(e),u);var f={_:[]};function p(_){this.value=_}var D=e.reduce(function(_,g){var h="string"==typeof g?g:"";if(h.match(/^--?[^-]/)&&_ instanceof p&&(f[_.value]=!0),h.match(/^--[^-]/)){var x=h.replace(/^--/,"");if(-1===i.boolean.indexOf(x))return new p(x);f[x]=!0}else if(h.match(/^-[^-]/)){var R=h.replace(/^-/,"").split("");if(-1===i.boolean.indexOf(R.slice(-1)[0]))var j=R.pop();if(R.forEach(function(z){f[z]=!0}),j)return new p(j)}else _ instanceof p?f[_.value]=g:g&&f._.push(g);return null},null);return D instanceof p&&(f[D.value]=!0),f},parse_formatting:function(r){var e=$.terminal.unescape_brackets(r).split(";");if(e.length>=5){var i=$.terminal.escape_brackets(e[4]);e[4]=i}return e},extended_command:function extended_command(term,string,options){var settings=$.extend({invokeMethods:!1},options),deferred=new $.Deferred;try{change_hash=!1;var m=string.match(extended_command_re);if(!m)return term.exec(string,!0).done(function(){change_hash=!0});if(settings.invokeMethods){string=m[1];var obj="terminal"===m[2]?term:term.cmd(),fn=m[3];try{var args=eval("["+m[4]+"]");if(obj[fn]){var ret=obj[fn].apply(term,args);if(ret&&ret.then)return ret}else term.error("Unknow function "+fn);deferred.resolve()}catch(r){term.error("Invalid invocation in "+$.terminal.escape_brackets(string)),deferred.reject()}}else warn("To invoke terminal or cmd methods you need to enable invokeMethods option"),deferred.reject()}catch(r){deferred.reject()}return deferred.promise()},iterator:function(r){function e(p){return $.terminal.is_formatting(p)&&p.match(/\]\\\]/)&&(p=p.replace(/\]\\\]/g,"]\\\\]")),p}if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){var u=$.terminal.length(r),i=0,f={};return f[Symbol.iterator]=function(){return{next:function(){if(i<u){var p=$.terminal.substring(r,i,i+1);return i++,{value:e(p)}}return{done:!0}}}},f}},formatter:new function(){try{this[Symbol.split]=function(r){return $.terminal.format_split(r)},this[Symbol.match]=function(r){return r.match(format_re)},this[Symbol.replace]=function(r,e){return r.replace(format_parts_re,e)},this[Symbol.search]=function(r){return r.search(format_re)}}catch{}},process_formatting:function(r){return $.terminal.format_split(r).map(function(e){if($.terminal.is_formatting(e)){for(var u=e.match(new RegExp(format_parts_re,"i")),i=u.pop(),f=1;f<=2;++f)$.terminal.valid_color(u[f])||(u[f]="");return u.slice(1,4).concat(i)}return["","","",e]})},new_formatter:function(r){$.terminal.defaults.formatters.unshift(r)}},function(){function r(i,f){return""===i?f:i.replace(/&#93;/g,"]").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function e(i){return i.match(/^\.{1,2}\//)||i.match(/^\//)||!(i.match(/\//)||i.match(/^[^:]+:/))}function u(i,f){return function(p){if(f.anyLinks)return!0;var D=i(p);return D||warn("Invalid URL "+p+" only http(s) ftp and path are allowed"),D}}$.terminal.format=function(f,p){var D=$.extend({},{linksNoReferrer:!1,linksNoFollow:!1,allowedAttributes:[],charWidth:undefined,escape:!0,anyLinks:!1},p||{}),_=u(function(w){return w.match(/^((https?|file|ftp):\/\/|\.{0,2}\/)/)||e(w)},D),g=u(function(w){return w.match(/^(https?:|file:|blob:|data:)/)||e(w)},D);var j=function R(){var w=["noopener"];return D.linksNoReferrer&&w.unshift("noreferrer"),D.linksNoFollow&&w.unshift("nofollow"),w}().join(" ");function te(w,C,Y,A,re,ne,P){var pe,se=[];if(ne.match(/;/))try{var V=function U(w){for(var C=0,Y=!1;C<w.length;){if("&"===w[C])Y=!0;else{if(";"===w[C]&&!Y)return C;";"===w[C]&&(Y=!1)}C++}return-1}(ne);if(-1!==V){var ie=ne.substring(V+1);(ie=ie.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">")).match(/^\s*\{[^}]*\}\s*$/)&&(pe=JSON.parse(ie),se=function h(w){return w.length&&D.allowedAttributes.length?w.filter(function(C){if("data-text"===C)return!1;for(var Y=!1,A=D.allowedAttributes,re=0;re<A.length;++re)if(A[re]instanceof RegExp){if(A[re].test(C)){Y=!0;break}}else if(A[re]===C){Y=!0;break}return Y}):[]}(Object.keys(pe)),ne=ne.substring(0,V))}}catch{}if(""===P&&!C.match(/@/))return"";P=(P=safe(P)).replace(/\\\]/g,"&#93;"),D.escape&&(P=P.replace(/\\\\/g,"\\"));var ee={};-1!==C.indexOf("b")&&(ee["font-weight"]="bold");var Z=[];-1!==C.indexOf("u")&&Z.push("underline"),-1!==C.indexOf("s")&&Z.push("line-through"),-1!==C.indexOf("o")&&Z.push("overline"),Z.length&&(ee["text-decoration"]=Z.join(" ")),-1!==C.indexOf("i")&&(ee["font-style"]="italic"),-1!==C.indexOf("r")&&(re.trim()?re+=" terminal-inverted":re="terminal-inverted"),$.terminal.valid_color(Y)&&($.extend(ee,{color:Y,"--color":Y,"--original-color":Y}),-1!==C.indexOf("!")&&(ee["--link-color"]=Y),-1!==C.indexOf("g")&&(ee["text-shadow"]="0 0 5px "+Y)),$.terminal.valid_color(A)&&$.extend(ee,{"background-color":A,"--background":A});var Fe=r(ne,P),Pe=extra_css(P,D);Pe&&(P=wide_characters(P,D),$.extend(ee,Pe));var Ae,Ge=style_to_string(ee);Ae=-1!==C.indexOf("!")?function z(w,C,Y){if(w.match(email_re))return'<a href="mailto:'+w+'"';var A=["<a"];return w&&_(w)&&A.push('href="'+w+'"'),C?(Y.includes("target")&&C.target===undefined&&(C.target="_blank"),Y.includes("rel")&&C.rel===undefined&&(C.rel=j)):(A.push('rel="'+j+'"'),A.push('target="_blank"')),A.join(" ")}(Fe,pe,se):-1!==C.indexOf("@")?function O(w,C){var Y="<img";return g(w)&&(Y+=' src="'+w+'"',C&&(Y+=' alt="'+C+'"')),Y}(Fe,P):"<span";var Me=function x(w,C,Y){if(C&&Y.length){var A,re=Y.map(function(ne){if(null===C[ne])return"";if(!0===C[ne])return ne;var P=escape_html_attr(C[ne]);return"style"===ne&&(w&&(P=P?w+";"+P:w),A=!0),ne+'="'+P+'"'}).filter(Boolean);return re.length?(!A&&w&&re.push('style="'+w+'"'),re.join(" ")):""}return w?'style="'+w+'"':""}(Ge,pe,se);return Me&&(Ae+=" "+Me),""!==re&&(Ae+=' class="'+re+'"'),-1!==C.indexOf("!")?Ae+=" data-text>"+P+"</a>":-1!==C.indexOf("@")?Ae+=" data-text/>":Ae+=' data-text="'+Fe+'"><span>'+P+"</span></span>",Ae}if("string"==typeof f){var E=$.terminal.format_split(f);return(f=$.map(E,function(w){if(""===w)return w;if($.terminal.is_formatting(w))return(w=w.replace(/\[\[[^\]]+\]/,function(re){return re.replace(/&nbsp;/g," ")})).replace(format_parts_re,te);var A,C=r(w=(w=safe(w)).replace(/\\\]/,"&#93;")),Y=extra_css(w,D);return Y?(w=wide_characters(w,D),A='<span style="'+style_to_string(Y)+'"'):A="<span",A+' data-text="'+C+'">'+w+"</span>"}).join("")).replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""}}(),$.terminal.Exception=function r(e,u,i){1===arguments.length?(this.message=arguments[0],this.type="TERMINAL"):(this.type=e,this.message=u,i&&(this.stack=i))},$.terminal.Exception.prototype=new Error,$.terminal.Exception.prototype.toString=function(){return this.message+"\n"+this.stack},$.fn.visible=function(){return this.css("visibility","visible")},$.fn.hidden=function(){return this.css("visibility","hidden")};var warnings=[];function warn(r){r="[jQuery Terminal] "+r,-1===warnings.indexOf(r)&&(warnings.push(r),console?console.warn?console.warn(r):console.log&&console.log(r):setTimeout(function(){throw new Error("WARN: "+r)},0))}var ids={};function terminal_ready(r){return!!(r.closest("body").length&&r.is(":visible")&&r.find(".cmd-prompt").length)}function format_stack_trace(r){return(r=$.terminal.escape_brackets(r)).split(/\n/g).map(function(e){return"[[;;;terminal-error]"+e.replace(url_re,function(u){return"]"+u+"[[;;;terminal-error]"})+"]"}).join("\n")}function get_char_size(r){var e;if(terminal_ready(r)){var u=r.find(".cmd-prompt").clone().css({visiblity:"hidden",position:"absolute"});u.appendTo(r.find(".cmd")).html("&nbsp;").wrap('<div class="cmd-wrapper"/>'),e={width:u.width(),height:u.height()},u.parent().remove()}else{var i=$('<div class="terminal terminal-temp"><div class="terminal-wrapper"><div class="terminal-output"><div><div class="terminal-line" style="float: left"><span>&nbsp;</span></div></div></div><div class="terminal-pixel"></div></div>').appendTo("body");if(i.addClass(r.attr("class")).attr("id",r.attr("id")),r){var f=r.attr("style");f&&(f=f.split(/\s*;\s*/).filter(function(D){return!D.match(/display\s*:\s*none/i)}).join(";"),i.attr("style",f))}var p=i.find(".terminal-line");e={width:p.width(),height:p.height()},i.remove()}return e}function get_num_chars(r,e){var u=r.find(".terminal-fill").width();return Math.floor(u/e.width)||1e3}function get_num_rows(r,e){var i=r.find(".terminal-fill").height();return Math.floor(i/e.height)}function all(r,e){return r.filter(function(i){return i[e]()===i}).length===r.length}function string_case(r){var e=r.split("");return all(e,"toLowerCase")?"lower":all(e,"toUpperCase")?"upper":"mixed"}function same_case(r){return"mixed"!==string_case(r)}function is_function(r){return"function"===get_type(r)}function is_string(r){return"string"===get_type(r)}function is_object(r){return r&&"object"==typeof r}function is_promise(r){return is_object(r)&&is_function(r.then||r.done)}function is_big_int(r){return"bigint"==typeof r}function is_deferred(r){return is_promise(r)&&is_function(r.promise)}function is_array(r){return Array.isArray(r)}function have_custom_font(r){var e=$(r).css("--font");return!!e&&!!Array.from(document.fonts.keys()).find(function(f){return f.family===e})}function get_type(r){return"function"==typeof r?"function":null===r?r+"":Array.isArray(r)?"array":r instanceof String?"string":"object"==typeof r?"object":typeof r}$.jrpc=function(r,e,u,i,f){var D,p=new $.Deferred;D=$.isPlainObject(r)?r:{url:r,method:e,params:u,success:i,error:f},ids[D.url]=ids[D.url]||0;var g={jsonrpc:"2.0",method:D.method,params:D.params,id:++ids[D.url]};function h(x,R,j,z){!function _(x){return"number"==typeof x.id&&(typeof x.result<"u"||typeof x.error<"u")}(x)&&"system.describe"!==D.method?(D.error&&D.error(z,"Invalid JSON-RPC"),p.reject({message:"Invalid JSON-RPC",response:R})):(D.success&&D.success(x,j,z),p.resolve(x))}return $.ajax({url:D.url,beforeSend:function(R,j){is_function(D.request)&&D.request(R,g),j.data=JSON.stringify(g)},success:function(R,j,z){var U;z.getResponseHeader("Content-Type").match(/(application|text)\/json/)||warn("Response Content-Type is neither application/json nor text/json");try{U=JSON.parse(R)}catch(E){if(!D.error)throw new $.terminal.Exception("JSON","Invalid JSON",E.stack);return D.error(z,"Invalid JSON",E),void p.reject({message:"Invalid JSON",response:R})}if(is_function(D.response)&&D.response(z,U),is_function(D.intercept)){var te=D.intercept(g,U);if(te)return unpromise(te,function(E){h(E,JSON.stringify(E),j,z)})}h(U,R,j,z)},error:D.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"}),p.promise()},$.rpc=function(r,e,u){var i=new $.Deferred;return $.jrpc(r,e,u,function f(D){D.error?i.reject(D.error):i.resolve(D.result)},function p(D,_,g){i.reject({message:g})}),i.promise()},Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});var version_set=!$.terminal.version.match(/^\{\{/),copyright="Copyright (c) 2011-2024 Jakub T. Jankiewicz <https://jcubic.pl/me>",version_string=version_set?" v. "+$.terminal.version:" ",reg=new RegExp(" {"+version_string.length+"}$"),name_ver="jQuery Terminal Emulator"+(version_set?version_string:""),signatures=[["jQuery Terminal","(c) 2011-2024 jcubic"],[name_ver,copyright.replace(/^Copyright | *<.*>/g,"")],[name_ver,copyright.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/_/_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg," ")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]];$.terminal.nested_formatting.__meta__=!0,$.terminal.nested_formatting.__inherit__=!0,$.terminal.nested_formatting.__no_warn__=!0,$.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,tabindex:1,invokeMethods:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,mousewheel:null,touchscroll:null,memory:!1,cancelableAjax:!0,processArguments:!0,execAnimation:!1,execAnimationDelay:100,linksNoReferrer:!1,externalPause:!0,useCache:!0,anyLinks:!1,linksNoFollow:!1,processRPCResponse:null,completionEscape:!0,mobileDelete:is_mobile,convertLinks:!0,errorOnAbort:!0,extra:{},tabs:4,historySize:60,scrollObject:null,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[$.terminal.nested_formatting],unixFormatting:{escapeBrackets:!1,ansiParser:{},ansiArt:!1},onAjaxError:null,pasteImage:!0,scrollBottomOffset:20,wordAutocomplete:!0,caseSensitiveAutocomplete:!0,caseSensitiveSearch:!0,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,repeatTimeoutKeys:[],mobileIngoreAutoSpace:[],request:$.noop,response:$.noop,describe:"procs",onRPCError:null,keymap:null,doubleTab:null,doubleTabEchoCommand:!1,completion:!1,onInit:$.noop,onClear:$.noop,onBlur:$.noop,onFocus:$.noop,onTerminalChange:$.noop,onExit:$.noop,onPush:$.noop,onPop:$.noop,keypress:$.noop,keydown:$.noop,renderHandler:null,onAfterRedraw:$.noop,onEchoCommand:$.noop,onPaste:$.noop,onFlush:$.noop,onBeforeCommand:null,onAfterCommand:null,onBeforeEcho:null,onAfterEcho:null,onBeforeLogin:null,onAfterLogout:null,onBeforeLogout:null,onCommandChange:null,onPositionChange:null,allowedAttributes:["title","target","rel",/^aria-/,"id",/^data-/],strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong username or password try again!",wrongPassword:"Wrong username or password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:"Sorry, but terminal said that you use invalid selector!",invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveLoop:"Recursive loop in echo detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",invalidStrings:"Command %s have unclosed strings",invalidMask:"Invalid mask used only string or boolean allowed",defunctTerminal:"You can't call method on terminal that was destroyed",abortError:"Abort with CTRL+D",timeoutError:"Signal timed out"}};var requests=[],abort_controllers=[],terminals=new Cycle,save_state=[],hash_commands,change_hash=!1,fire_hash_change=!0,first_instance=!0;$.fn.terminal=function(r,e){function i(n){if($.terminal.unclosed_strings(n)){var a=$.terminal.escape_brackets(n),o=sprintf(de().invalidStrings,"`"+a+"`");throw new $.terminal.Exception(o)}return is_function(d.processArguments)?process_command(n,d.processArguments):d.processArguments?$.terminal.parse_command(n):$.terminal.split_command(n)}var re,f=!1;function p(n,a){return a=a||{},$.terminal.Animation&&n instanceof $.terminal.Animation?(n.start(t),!1):is_function(d.renderHandler)?f?n:unpromise(n,function(o){try{f=!0;var l=d.renderHandler.call(t,o,a,t);if(!1===l)return!1;var c=is_promise(l);return c?always(l,function(){f=!1}):"string"==typeof l||h(l)?l:o}catch(b){return["[[;red;]"+b.message+"]",format_stack_trace(b.stack)].join("\n")}finally{c||(f=!1)}}):n}function D(n,a){if(h(n))return['<div class="terminal-render-item"/>',$.extend({},a,{raw:!0,finalize:function(l){l.find(".terminal-render-item").replaceWith(n),a&&is_function(a.finalize)&&a.finalize(l,t)}})]}function _(n,a){var o=D(n,a);if(o)return t.echo.apply(t,o),!0}function g(n){return Ue.find("[data-index="+n+"]")}function h(n){return n instanceof $.fn.init||n instanceof Element}function x(n){!1!==(n=p(n))&&(_(n)||(is_string(n)?t.echo(n):is_array(n)?t.echo($.map(n,function(a){return JSON.stringify(a)}).join(" ")):"object"==typeof n?t.echo(JSON.stringify(n)):t.echo(n)))}function j(n){if(is_function(d.onRPCError))d.onRPCError.call(t,n);else if(t.error("&#91;RPC&#93; "+n.message),n.error&&n.error.message){var a="\t"+(n=n.error).message;n.file&&(a+=' in file "'+n.file.replace(/.*\//,"")+'"'),n.at&&(a+=" at line "+n.at),t.error(a)}}function z(n,a){var o;d.rpc&&(o=function(){return d.rpc.apply(t,arguments)});var l=function(c,b){t.pause(d.softPause),$.jrpc({url:n,method:c,params:b,request:function(k,S){try{d.request.call(t,k,S,t)}catch(L){C(L,"USER")}},intercept:o,response:function(k,S){try{d.response.call(t,k,S,t)}catch(L){C(L,"USER")}},success:function(S){S.error?j(S.error):is_function(d.processRPCResponse)?d.processRPCResponse.call(t,S.result,t):null!==S.result&&x(S.result),t.resume()},error:U})};return function(c,b){if(""!==c){try{c=i(c)}catch(S){return void C(S,"TERMINAL (get_processed_command)")}if(a&&"help"!==c.name){var k=b.token(!0);k?l(c.name,[k].concat(c.args)):b.error("&#91;AUTH&#93; "+de().noTokenError)}else l(c.name,c.args)}}}function O(n,a,o,l){return function(c,b){if(""!==c){var k;try{k=i(c)}catch(W){return void(is_function(d.exception)?d.exception(W,t):t.error("Error: "+(W.message||W)))}var S=n[k.name],L=get_type(S);if("function"===L){if(!a||S.length===k.args.length)return S.apply(t,k.args);t.error("&#91;Arity&#93; "+sprintf(de().wrongArity,k.name,S.length,k.args.length))}else if("object"===L||"string"===L){var B=[];"object"===L&&(B=Object.keys(S),S=O(S,a,o)),b.push(S,{prompt:k.name+"> ",name:k.name,completion:"object"===L?B:undefined})}else is_function(l)?l(c,t):is_function(d.onCommandNotFound)?d.onCommandNotFound.call(t,c,t):b.error(sprintf(de().commandNotFound,k.name))}}}function U(n,a,o){t.resume(),is_function(d.onAjaxError)?d.onAjaxError.call(t,n,a,o):"abort"!==a&&t.error("&#91;AJAX&#93; "+a+" - "+de().serverResponse+":\n"+$.terminal.escape_brackets(n.responseText))}function te(n,a,o){function l(S){S.error?j(S.error):is_function(d.processRPCResponse)?d.processRPCResponse.call(t,S.result,t):x(S.result),t.resume()}function c(S,L){try{d.request.call(t,S,L,t)}catch(B){C(B,"USER")}}function b(S,L){try{d.response.call(t,S,L,t)}catch(B){C(B,"USER")}}return $.jrpc({url:n,method:"system.describe",params:[],success:function k(S){var L=S;if(!1!==d.describe&&""!==d.describe&&d.describe.split(".").forEach(function(I){L=L[I]}),L&&L.length){var B={};$.each(L,function(I,Q){$.isPlainObject(Q)&&"string"==typeof Q.name&&(B[Q.name]=function(){var ae=a&&"help"!==Q.name,F=Array.prototype.slice.call(arguments),N=F.length+(ae?1:0);if(d.checkArity&&Q.params&&Q.params.length!==N)t.error("&#91;Arity&#93; "+sprintf(de().wrongArity,Q.name,Q.params.length,N));else{if(t.pause(d.softPause),ae){var M=t.token(!0);M?F=[M].concat(F):t.error("&#91;AUTH&#93; "+de().noTokenError)}$.jrpc({url:n,method:Q.name,params:F,request:c,response:b,success:l,error:U})}})});var W="string"==typeof a?a:"login";B.help=B.help||function(I){if(typeof I>"u"){var Q=L.map(function(N){return N.name}).join(", ")+", help";t.echo("Available commands: "+Q)}else{var ae=!1;if($.each(L,function(N,M){if(M.name===I){ae=!0;var X="";if(X+="[[bu;;]"+M.name+"]",M.params){var K=M.params;a&&M.name!==W&&(K=K.slice(1)),X+=" "+K.join(" ")}return M.help&&(X+="\n"+M.help),t.echo(X),!1}}),!ae)if("help"===I)t.echo("[[bu;;]help] [method]\ndisplay help for the method or list of methods if not specified");else{var F="Method `"+I+"' not found ";t.error(F)}}},o(B)}else o(null)},request:c,response:b,error:function(){o(null)}})}function E(n,a,o){o=o||$.noop;var c,S,l=get_type(n),b={},k=0;if("array"===l)c={},function B(W,I){if(W.length){var Q=W[0],ae=W.slice(1),F=get_type(Q);"string"===F?!1===d.describe?(1==++k?S=z(Q,a):t.error(de().oneRPCWithIgnore),B(ae,I)):(t.pause(d.softPause),te(Q,a,function(N){N?$.extend(c,N):1==++k?S=z(Q,a):t.error(de().oneRPCWithIgnore),t.resume(),B(ae,I)})):"function"===F?(S?t.error(de().oneInterpreterFunction):S=Q,B(ae,I)):"object"===F&&($.extend(c,Q),B(ae,I))}else I()}(n,function(){o({interpreter:O(c,!1,a,S&&S.bind(t)),completion:Object.keys(c)})});else if("string"===l)!1===d.describe?(c={interpreter:z(n,a)},Array.isArray(d.completion)&&(c.completion=d.completion),o(c)):(t.pause(d.softPause),te(n,a,function(B){B?(b.interpreter=O(B,!1,a),b.completion=Object.keys(B)):b.interpreter=z(n,a),o(b),t.resume()}));else if("object"===l)o({interpreter:O(n,d.checkArity,a),completion:Object.keys(n)});else{if("undefined"===l)n=$.noop;else if("function"!==l){var L=l+" is invalid interpreter value";throw new $.terminal.Exception(L)}o({interpreter:n,completion:d.completion})}}function w(n,a){var o="boolean"===get_type(a)?"login":a;return function(l,c,b){t.pause(d.softPause),$.jrpc({url:n,method:o,params:[l,c],request:function(k,S){try{d.request.call(t,k,S,t)}catch(L){C(L,"USER")}},response:function(k,S){try{d.response.call(t,k,S,t)}catch(L){C(L,"USER")}},success:function(S){!S.error&&S.result?b(S.result):b(null),t.resume()},error:U})}}function C(n,a,o){is_function(d.exceptionHandler)?d.exceptionHandler.call(t,n,a):(t.exception(n,a),o||setTimeout(function(){throw n},0))}function P(n){try{var a=!is_function(n.value),o=$.extend({exec:!0,raw:!1,finalize:$.noop,useCache:a,invokeMethods:!1,formatters:!0,convertLinks:d.convertLinks},n.options||{}),l=G(n.value);if(l&&is_function(l.then))return l.then(function(Q){P($.extend(n,{value:Q,options:o}))});if(""!==l){if(!o.raw){if(d.useCache&&o.useCache){var c=l;if(re&&re.has(c)){var b=re.get(c);return Oe.append(b.input,n.index,o,b.raw),!0}}if(o.formatters)try{l=$.terminal.apply_formatters(l,$.extend(d,{echo:!0}))}catch(Q){C(Q,"FORMATTING")}if(l=function ne(n,a,o){return o.exec||a.options.clear_exec?$.terminal.each_extended_command(n,function(l){if(o.exec){a.options.exec=!1,a.options.clear_exec=!0;var c=l.trim();et&&et===c?(et="",t.error(de().recursiveLoop)):(et=c,$.terminal.extended_command(t,l,{invokeMethods:o.invokeMethods}).then(function(){et=""}))}}):n}(l,n,o),""===l)return;o.convertLinks&&(l=function Y(n){function a(l,c,b,k,S,L,B){function W(F,N){return"[["+[c+(F||""),b,k,S,N||L].join(";")+"]"}function I(F){return"]"+W("!",F)+F+"]"+W()}if(!c.match(/!/)){var Q=B.match(email_full_re)||B.match(url_full_re);if(Q)return W("!",Q[1])+B+"]";if(B.match(email_re)||B.match(url_nf_re)){var ae=B.replace(email_re,I).replace(url_nf_re,I);return W("",L)+ae+"]"}}return l}function o(l){return l.replace(email_re,"[[!;;]$1]").replace(url_nf_re,"[[!;;]$1]")}return $.terminal.have_formatting(n)?$.terminal.format_split(n).map(function(l){return $.terminal.is_formatting(l)?l.replace(format_parts_re,a):o(l)}).join(""):o(n)}(l));var k=l;l=crlf($.terminal.normalize(l)),l=$.terminal.encode(l,{tabs:d.tabs});var S,L,B=o.cols=t.cols();!function A(n,a){return(strlen(text(n))>a.cols||n.match(/\n/))&&(!0===d.wrap&&a.wrap===undefined||!1===d.wrap&&!0===a.wrap)}(l,o)?l.match(/\n/)&&(S=l.split(/\n/),L=l.split(/\n/)):(S=$.terminal.split_equal(l,B,{keepWords:o.keepWords,trim:!0}),L=$.terminal.split_equal(k,B,{keepWords:o.keepWords,trim:!0}))}}else k="";var W=S||l,I=L||k;re&&c&&a&&re.set(c,{input:W,raw:I}),Oe.append(W,n.index,o,I)}catch(Q){Oe.clear(),is_function(d.exceptionHandler)?d.exceptionHandler.call(t,Q,"TERMINAL"):alert_exception("[Internal Exception(process_line)]",Q)}return!0}function pe(n){if(!(n=$.extend({},{update:!1,scroll:!0},n||{})).update){q.resize(qe);var a=Ue.empty().detach()}try{Oe.clear(),unpromise(ye.render(t.rows(),function(o){return o.map(P)}),function(){t.flush(n),n.update||q.before(a),ce("onAfterRedraw")})}catch(o){is_function(d.exceptionHandler)?d.exceptionHandler.call(t,o,"TERMINAL (redraw)"):alert_exception("[redraw]",o)}}function V(){d.greetings===undefined?t.echo(t.signature,{finalize:a11y_hide,formatters:!1}):d.greetings&&(is_string(d.greetings)?t.echo(d.greetings):is_function(d.greetings)?t.echo(function(){try{var n=new $.Deferred,a=d.greetings.call(t,n.resolve);return a&&n.resolve(a),n.promise()}catch(o){d.greetings=null,C(o,"greetings")}}):t.error(de().wrongGreetings))}function ie(n){var a=q.mask();switch(typeof a){case"string":return n.replace(/./g,a);case"boolean":return a?n.replace(/./g,d.maskChar):$.terminal.escape_formatting(n)}throw new $.terminal.Exception(de().invalidMask)}function ee(n){typeof n>"u"&&(n=t.get_command());var a=q.prompt(!0);n=ie(n);var o={exec:!1,formatters:!1,convertLinks:!1,finalize:function(c){a11y_hide(c.addClass("terminal-command")),ce("onEchoCommand",[c,n])}};n=$.terminal.apply_formatters(n,{command:!0}),t.echo(a+n,o)}"Map"in root&&(re=new Map);var Pe=["AbortError","TimeoutError"];function Ae(n){return function(a){Pe.includes(a.name)&&!d.errorOnAbort||t.error("["+n+"] "+(a.message||a)).resume()}}var Me=!0,Be=[];function ve(n,a,o){function c(){o||(change_hash=!0,d.historyState&&t.save_state(n,!1),change_hash=ae)}function b(){Q.resolve(),ce("onAfterCommand",[n])}function k(N,M){typeof N<"u"&&x(N),b(),M&&t.resume()}var L=Ae("Command");function B(N){L(N),abort_controllers=[]}Me&&(Me=!1,function l(){(d.historyState||d.execHash&&o)&&(save_state.length?t.save_state(null):t.save_state())}());try{if(!1===ce("onBeforeCommand",[n]))return;o?(et=n.trim(),Ze=$.terminal.split_command(et)):Ze=$.terminal.split_command(n),Qe()||o&&(is_function(d.historyFilter)&&d.historyFilter(n)||n.match(d.historyFilter))&&q.history().append(n);var I=me.top();!a&&d.echoCommand&&ee(n);var Q=new $.Deferred,ae=change_hash;if(n.match(/^\s*login\s*$/)&&t.token(!0))c(),t.level()>1?t.logout(!0):t.logout(),b();else if(d.exit&&n.match(/^\s*exit\s*$/)&&!ke){c();var F=t.level();(1===F&&t.get_token()||F>1)&&(t.get_token(!0)&&t.set_token(undefined,!0),t.pop()),b()}else{if(!d.clear||!n.match(/^\s*clear\s*$/)||ke)return function W(){var N=I.interpreter.call(t,n,t);return c(),N?(Je||(function S(N){return is_function(N.done||N.then)&&Ee}(N)?Te=!0:is_promise(N)&&t.pause(d.softPause)),Je=!1,is_function(N.done||N.then)?unpromise(N,function(M){k(M,!0),abort_controllers=[]},B):$.when(N).done(k).catch(B)):(o&&q.refresh(),Te?Be.push(function(){b()}):b(),o?Q.promise():void 0)}();c(),t.clear(),b()}return Q.promise()}catch(N){if(C(N,"USER",o),t.resume(),o)throw N}}function Rt(){var n=t.prefix_name(!0)+"_";be.remove(n+"token"),be.remove(n+"login")}function We(n){var a=me.top(),o=t.prefix_name(!0);Qe()||function Zt(n){var a=t.prefix_name()+"_interpreters",o=be.get(a);o=o?JSON.parse(o):[],-1===$.inArray(n,o)&&(o.push(n),be.set(a,JSON.stringify(o)))}(o);var l=t.login_name(!0);q.name(o+(l?"_"+l:""));var c=a.prompt;is_function(c)&&(c=fe(c));var b=is_function(a.prompt);(b||c!==q.prompt())&&(b&&q.prompt(""),q.prompt(a.prompt)),typeof a.history<"u"&&t.history().toggle(a.history),$.isPlainObject(a.keymap)&&q.keymap(null).keymap($.extend({},ge,$.omap(a.keymap,function(k,S){return function(){var L=[].slice.call(arguments);try{return S.apply(t,L)}catch(B){C(B,"USER KEYMAP")}}}))),q.set(""),!n&&is_function(a.onStart)&&a.onStart.call(t,t)}function ce(n,a,o){a=(a||[]).concat([t]);var l=me&&me.top();if(l&&is_function(l[n])&&!o)try{return l[n].apply(t,a)}catch(c){delete l[n],C(c,n)}else if(is_function(d[n]))try{return d[n].apply(t,a)}catch(c){d[n]=null,C(c,n)}}var Ot=function(){function n(a){if(!a)try{return t.scroll_to(t.find(".cmd-cursor-line")),!0}catch{return!0}}return typeof global<"u"&&"function"==typeof global.it?n:debounce(n,100,{leading:!0,trailing:!1})}();function bt(){return t.find(".cmd-cursor-line").is_fully_in_viewport(t).then(Ot)}function pt(){if(fire_hash_change&&d.execHash)try{if(location.hash){var n=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(n))}else hash_commands=[];hash_commands.length?function Fe(n){var a=terminals.get()[n[0]];if(!a)throw new $.terminal.Exception(de().invalidTerminalId);var o=n[1];if(save_state[o])a.import_view(save_state[o]);else{change_hash=!1;var l=n[2];l&&a.exec(l).done(function(){change_hash=!0,save_state[o]=a.export_view()})}}(hash_commands[hash_commands.length-1]):save_state[0]&&t.import_view(save_state[0])}catch(a){C(a,"TERMINAL")}}function it(){We(),Bt.resolve(),V()}function ut(){function n(){Tt=$.noop,!a&&t.enabled()&&t.resume(!0)}ye.length&&Xe.length&&$.when.apply($,Xe);var a=!1;if(is_function(d.onInit)){var o;Tt=function(){a=!0};try{o=d.onInit.call(t,t)}catch(l){C(l,"OnInit")}finally{is_promise(o)?o.then(n).catch(function(l){C(l,"OnInit"),n()}):n()}}first_instance&&(first_instance=!1,$(window).on("hashchange",pt))}function Qe(){return ke||!1!==q.mask()}function Dt(n){var a,o=me.top();if(is_function(o.keydown)){if((a=o.keydown.call(t,n,t))!==undefined)return a}else if(is_function(d.keydown)&&(a=d.keydown.call(t,n,t))!==undefined)return a}var Ft={"CTRL+D":function(n,a){return ke||(""===q.get()?me.size()>1||is_function(H)?t.pop(""):t.resume():a()),!1},"CTRL+C":function(){return with_selection(function(n){if(""===n){var a=t.get_command(),o=t.get_position();ee(a=a.slice(0,o)+"^C"+a.slice(o+2)),t.set_command("")}else{var l=t.find("textarea");text_to_clipboard(l,process_selected_html(n))}}),!1},"CTRL+L":function(){return t.clear(),!1},TAB:function(n,a){var l,c,o=me.top();function b(B){B=B.slice(),t.before_cursor(!1).match(/\s/)||(d.clear&&-1===$.inArray("clear",B)&&B.push("clear"),d.exit&&-1===$.inArray("exit",B)&&B.push("exit")),t.complete(B,{echo:!0,word:d.wordAutocomplete,escape:d.completionEscape,caseSensitive:c,echoCommand:d.doubleTabEchoCommand,doubleTab:d.doubleTab})}if(c=typeof o.caseSensitiveAutocomplete<"u"?o.caseSensitiveAutocomplete:d.caseSensitiveAutocomplete,"settings"===(l=d.completion&&"boolean"!==get_type(d.completion)&&o.completion===undefined?d.completion:o.completion)&&(l=d.completion),l)switch(get_type(l)){case"function":var k=t.before_cursor(d.wordAutocomplete);if(3===l.length)return C(new Error(de().comletionParameters),"USER"),!1;unpromise(l.call(t,k,b),b,Ae("Completion"));break;case"array":b(l);break;default:throw new $.terminal.Exception(de().invalidCompletion)}else a();return!1},"CTRL+V":function(n,a){return a(n),t.oneTime(200,function(){t.scroll_to_bottom()}),!0},"CTRL+TAB":function(){if(terminals.length()>1)return t.focus(!1),!1},PAGEDOWN:function(){t.scroll(t.height())},PAGEUP:function(){t.scroll(-t.height())}};function Et(n){var a,o;if(Ee)return!1;if(t.enabled()){if(t.paused()){if(!d.pauseEvents&&(a=Dt(n))!==undefined)return a;if(68===n.which&&n.ctrlKey){if(d.pauseEvents&&(a=Dt(n))!==undefined)return a;if(t.abort(),requests.length){for(o=requests.length;o--;){var l=requests[o];if(4!==l.readyState)try{l.abort()}catch{is_function(d.exceptionHandler)?d.exceptionHandler.call(t,n,"AJAX ABORT"):t.error(de().ajaxAbortError)}}requests=[]}t.resume()}return!1}if((a=Dt(n))!==undefined)return a;9!==n.which&&(ht=0)}}function wt(n){var a=me.top();if(Ce&&(!Te||!d.pauseEvents)){if(is_function(a.keypress))return a.keypress.call(t,n,t);if(is_function(d.keypress))return d.keypress.call(t,n,t)}}function at(n,a){return function(l,c){var b=$.terminal.apply_formatters(l,{animation:!0});b=$.terminal.normalize(b);var k=!1;if(c&&typeof c.keepWords<"u"&&(k=c.keepWords),a)var S=$.terminal.split_equal(b,t.cols(),{keepWords:k});Ee=!0;var L=t.get_prompt(),B=0,W=$.terminal.length(b);if(W>0){var I="";c.prompt?I=$.terminal.apply_formatters(c.prompt,{prompt:!0}):t.set_prompt("");var Q=t.is_bottom(),ae=0;if(a)var F=S.map(function(K){return{formatted:K,chars:$.terminal.partition(K,{wrap:!1}),len:$.terminal.length(K)}});else var N=$.terminal.partition(b,{wrap:!1});var M,X=setInterval(function(){var K,_e,xe;if(Pt){t.skip_stop();var Mt=$.terminal.substring(b,B,W);I+=Mt,q.prompt(I,{formatters:!1}),M=!0}else{if(a?(K=F[ae].formatted,_e=F[ae].chars,xe=F[ae].len):(K=b,_e=N,xe=W),0===xe)q.prompt("");else{var De=_e[B];if(c.mask){var Re=q.mask();"string"==typeof Re?De=Re:Re&&(De=d.maskChar)}I+=De,q.prompt(I,{formatters:!1}),Q&&("\n"===De||!t.is_bottom())&&t.scroll_to_bottom(),B++}if(B===xe&&a){var nt=t.last_index();ae===F.length-1?t.set_prompt(L):t.set_prompt("");var St=!!Ue.find(".partial").length;t.echo(K,$.extend({},c,{formatters:!1,finalize:null,typing:!1})),F[ae].index=nt+1,I="",++ae,B=0}}M||(M=a?ae===F.length:B===W),M&&(clearInterval(X),setTimeout(function(){if(St||!1===c.newline){var Wt=t.last_index(),Ht=Ue.find('[data-index="'+Wt+'"]');c.finalize(Ht)}else a&&F.forEach(function(Vt){typeof Vt.index<"u"&&t.remove_line(Vt.index)}),n(l,L,c);Ee=!1},c.delay))},c.delay)}}}var n,Lt=at(function(n,a,o){t.set_prompt(n),o.finalize()},!0),Ut=(n=at(function(a,o,l){t.set_prompt(o),t.insert(a),l.finalize()}),function(a,o,l){return n(o,$.extend({},l,{prompt:a+t.get_command()}))}),qt=at(function(n,a,o){t.set_prompt(a),t.echo(n,$.extend({},o,{typing:!1}))},!0),Kt=function(){var n=at(function(a,o,l){t.set_prompt(o),with_prompt(o,function(c){var b=ie(a),k=(c=$.terminal.apply_formatters(c,{prompt:!0}))+(b=$.terminal.apply_formatters(b,{command:!0}));l=$.extend({},l,{typing:!1,formatters:!1,convertLinks:!1}),t.echo(k,l)},t)});return function(a,o,l){return n(o,$.extend({},l,{prompt:a,mask:!0}))}}();function It(n,a,o){return function(c,b){var k=new $.Deferred;return $e(function(){var L=$.extend({typing:!1,delay:d.execAnimationDelay},b);if(L.typing){if("string"!=typeof c)return k.reject(n+": Typing animation require string");if("number"!=typeof L.delay||isNaN(L.delay))return k.reject(n+": Invalid argument, delay need to be a number");t.typing(n,L.delay,c,L).then(function(){k.resolve()})}else a(c,L);is_function(o)&&o(c,L)}),b&&b.typing?k.promise():t}}function dt(n,a,o){return unpromise(defined(ce("onBeforeLogin",[n,a])),o,"validate_login")}function $t(n,a,o,l){d.history&&q.history().disable();var c=t.level();function b(){for(;t.level()>c;)t.pop(undefined,!0);d.history&&q.history().enable()}function L(B,W,I){we(function(){var ae;W?(b(),function k(B,W){var I=t.prefix_name(!0)+"_";be.set(I+"token",W),be.set(I+"login",B)}(B,W),ke=!1,ce("onAfterLogin",[B,W]),ae=o):(a?(I||t.error(de().wrongPasswordTryAgain),t.pop(undefined,!0).set_mask(!1)):(ke=!1,I||t.error(de().wrongPassword),t.pop(undefined,!0).pop(undefined,!0)),ae=l),t.paused()&&t.resume(),is_function(ae)&&ae(),t.off("terminal.autologin")})}!function S(){var B=t.prefix_name(!0)+"_";be.remove(B+"token"),be.remove(B+"login")}(),t.on("terminal.autologin",function(B,W,I,Q){dt(W,I,function(ae){!1!==ae&&L(W,I,Q)})}),t.push(function(B){t.set_mask(d.maskChar).push(function(W){try{dt(B,W,function(I){if(!1!==I){t.pause();try{var Q=[B,W,function(F,N){L(B,F,N)}];unpromise(n.apply(t,Q),function(F){L(B,F)},function(F){t.pop(undefined,!0).pop(undefined,!0),t.error(F.message),is_function(l)&&l(),t.paused()&&t.resume(),t.off("terminal.autologin")})}catch(F){C(F,"AUTH")}}else b()})}catch(I){C(I,"AUTH")}},{prompt:de().password+": ",name:"password"})},{prompt:de().login+": ",name:"login"})}function At(n){return function(a){n.add(a)}}function de(){return $.extend({},$.terminal.defaults.strings,d&&d.strings||{})}function Yt(){var n=window.getComputedStyle(Ye[0]);function a(k){return function Jt(n,a){return parseInt(n.getPropertyValue(a),10)||0}(n,"padding-"+k)}var o=a("left"),l=a("right");return{top:a("top"),left:o,right:l,bottom:a("bottom")}}var ot,t=this;if(this.length>1)return this.each(function(){$.fn.terminal.call($(this),r,$.extend({name:t.selector},e))});if(t.is("body,html")){if(t.hasClass("full-screen-terminal")){var kt=t.find("> .terminal").data("terminal");if(kt)return kt}ot=t,t=$("<div/>").appendTo("body"),$("body").addClass("full-screen-terminal")}else if(t.data("terminal"))return t.data("terminal");var st=$.omap({id:function(){return tt},clear:function(){return!1!==ce("onClear")&&(Oe.clear(),ye.clear(function(n){return g(n)}),Ue[0].innerHTML="",t.prop({scrollTop:0})),t},export_view:function(){var n=ce("onExport");return n=n||{},$.extend({},{focus:Ce,mask:q.mask(),prompt:t.get_prompt(),command:t.get_command(),position:q.position(),lines:clone(ye.data()),interpreters:me.clone(),history:q.history().data},n)},import_view:function(n){if(ke)throw new Error(sprintf(de().notWhileLogin,"import_view"));return ce("onImport",[n]),$e(function(){t.set_prompt(n.prompt),t.set_command(n.command),q.position(n.position),q.mask(n.mask),n.focus&&t.focus(),ye.import(clone(n.lines).filter(function(o){return o[0]})),n.interpreters instanceof Stack&&(me=n.interpreters),d.importHistory&&q.history().set(n.history),pe()}),t},save_state:function(n,a,o){if(typeof o<"u"?save_state[o]=t.export_view():save_state.push(t.export_view()),Array.isArray(hash_commands)||(hash_commands=[]),n!==undefined&&!a){var l=[tt,save_state.length-1,n];hash_commands.push(l),function Ge(){change_hash&&(fire_hash_change=!1,location.hash="#"+JSON.stringify(hash_commands),setTimeout(function(){fire_hash_change=!0},100))}()}return t},exec:function(n,a,o){function l(k){unpromise(ve(n,k,!0),function(){Ze=null,b.resolve()},function(){Ze=null,b.reject()})}a&&"object"==typeof a&&(o=a,a=null);var c=$.extend({deferred:null,silent:!1,typing:!1,delay:d.execAnimationDelay},o);null===a&&(a=c.silent),is_deferred(c.deferred)||(c.deferred=new $.Deferred);var b=c.deferred;return we(function(){if(Array.isArray(n))!function B(){var W=n.shift();W?t.exec(W,a,o).done(B):b.resolve()}();else if(Te)lt.push([n,a,c]);else if(c.typing&&!a){var S=c.delay;Te=!0,t.typing("enter",S,n,{delay:S}).then(function(){Te=!1,l(!0)}),b.then(function(){Te=!1})}else l(a)}),b.promise()},autologin:function(n,a,o){return t.trigger("terminal.autologin",[n,a,o]),t},login:function(n,a,o,l){if(_t.push([].slice.call(arguments)),ke)throw new Error(sprintf(de().notWhileLogin,"login"));if(!is_function(n))throw new Error(de().loginIsNotAFunction);if(ke=!0,t.token()&&1===t.level()&&!zt)ke=!1,t.logout(!0);else{var c=t.token(!0),b=t.login_name(!0);c&&b?(ke=!1,t.pause(),dt(b,c,function(k){!1!==k?is_function(o)&&o():(t.resume(),$t(n,a,o,l))})):$t(n,a,o,l)}return t},settings:function(){return d},before_cursor:function(n){var c,a=q.position(),o=q.get().slice(0,a),l=o.split(/\s/);if(n)if(1===l.length)c=l[0];else{var b=o.match(/(\\?")/g),k=b?b.filter(function(B){return!B.match(/^\\/)}).length:0;if(((b=o.match(/'/g))?b.length:0)%2==1)c=o.match(/('[^']*)$/)[0];else if(k%2==1)c=o.match(/("(?:[^"]|\\")*)$/)[0];else for(c=l[l.length-1],y=l.length-1;y>0;y--){var L=l[y-1];if("\\"!==L[L.length-1])break;c=l[y-1]+" "+c}}else c=o;return c},complete:function(n,a){var o=(a=$.extend({word:!0,echo:!1,escape:!0,echoCommand:!1,caseSensitive:!0,doubleTab:null},a||{})).caseSensitive,l=t.before_cursor(a.word).replace(/\\"/g,'"'),c=!1;if(a.word&&(l.match(/^"/)?c='"':l.match(/^'/)&&(c="'"),c&&(l=l.replace(/^["']/,""))),ht%2==0)vt=t.before_cursor(a.word);else if(t.before_cursor(a.word)!==vt)return;var k=$.terminal.escape_regex(l);function S(M){return'"'===c&&(M=M.replace(/"/g,'\\"')),!c&&a.escape&&(M=M.replace(/(["'() ])/g,"\\$1")),M}a.escape&&(k=k.replace(/(\\+)(["'() ])/g,function(M,X,K){return K.match(/[()]/)?X+"\\?\\"+K:X+"?"+K}));var W=new RegExp("^"+k,o?"":"i"),I=function L(){for(var M=[],X=n.length;X--;)if(n[X].match(/\n/)&&a.word&&warn("If you use commands with newlines you should use word option for complete or wordAutocomplete terminal option"),W.test(n[X])){var K=S(n[X]);!o&&same_case(K)&&(l.toLowerCase()===l?K=K.toLowerCase():l.toUpperCase()===l&&(K=K.toUpperCase())),M.push(K)}return M}();function Q(M,X){var K=t.get_command(),_e=t.get_position(),xe=new RegExp("^"+M,"i"),De=K.slice(0,_e),Re=K.slice(_e),nt=X.replace(xe,"")+(c||"");t.set_command(De+nt+Re),t.set_position((De+nt).length)}if(1===I.length)return a.escape?Q(k,I[0]):t.insert(I[0].replace(W,"")+(c||"")),vt=t.before_cursor(a.word),!0;if(I.length>1)if(++ht>=2){if(ht=0,a.echo){if(is_function(a.doubleTab)){a.echoCommand&&ee();var ae=a.doubleTab.call(t,l,I,ee);return typeof ae>"u"||ae}if(!1!==a.doubleTab){ee();var F=I.slice().reverse().join("\t\t");t.echo($.terminal.escape_brackets(F),{keepWords:!0,formatters:!1})}return!0}}else{var N=common_string(S(l),I,o);if(N)return Q(k,N),vt=t.before_cursor(a.word),!0}},commands:function(){return me.top().interpreter},set_interpreter:function(n,a){var o=$.Deferred();function l(){t.pause(d.softPause),E(n,a,function(c){t.resume();var b=me.top();$.extend(b,c),We(!0),o.resolve()})}return is_function(a)?t.login(a,!0,l):"string"===get_type(n)&&a?t.login(w(n,a),!0,l):l(),o.promise()},greetings:function(){return V(),t},paused:function(){return Te},pause:function(n){return we(function(){Tt(),Te=!0,q.disable(n||is_android),n||q.find(".cmd-prompt").hidden(),ce("onPause")}),t},resume:function(n){return we(function(){Te=!1,Ce&&terminals.front()===t&&q.enable(n),q.find(".cmd-prompt").visible();var o=lt;lt=[];for(var l=0;l<o.length;++l)t.exec.apply(t,o[l]);t.trigger("resume");var c=Be.shift();c&&c(),!1!==ce("onResume")&&t.scroll_to_bottom()}),t},signal:function(){var n=new AbortController;return abort_controllers.push(n),n.signal},timeout:function(n){var a=new AbortController,o=new Error(de().timeoutError);o.name="TimeoutError",abort_controllers.push(a);var l=a.signal;return setTimeout(function(){l.aborted||a.abort(o)},n),l},abort:function(n){if(abort_controllers.length){var a=new Error(n||de().abortError);a.name="AbortError";for(var o=abort_controllers.length;o--;){var l=abort_controllers[o];l.signal.aborted||l.abort(a)}abort_controllers=[]}return t},skip:function(){return Pt=!0,t},skip_stop:function(){return Pt=!1,t},animating:function(){return Ee},cols:function(){return d.numChars?d.numChars:((!qe||1e3===qe)&&(qe=get_num_chars(t,Se)),qe)},rows:function(){return d.numRows?d.numRows:(ze||(ze=get_num_rows(t,Se)),ze)},history:function(){return q.history()},geometry:function(){var n=Yt();return{terminal:{padding:{left:n.left,right:n.right,top:n.top,bottom:n.bottom},width:rt+n.left+n.right,height:ft+n.top+n.bottom},density:je,char:Se,cols:this.cols(),rows:this.rows()}},history_state:function(n){function a(){d.historyState=!0,save_state.length?terminals.length()>1&&t.save_state(null):t.save_state()}return n?typeof window.setImmediate>"u"?setTimeout(a,0):setImmediate(a):d.historyState=!1,t},clear_history_state:function(){return hash_commands=[],save_state=[],t},next:function(){if(1===terminals.length())return t;terminals.front().disable();var n=terminals.rotate().enable(),a=n.offset().top-50;$("html,body").animate({scrollTop:a},500);try{trigger_terminal_change(n)}catch(o){C(o,"onTerminalChange")}return n},focus:function(n,a){return we(function(){if(1===terminals.length())!1===n?t.disable(a):t.enable(a);else if(!1===n)t.next();else{if(terminals.front()!==t&&(terminals.forEach(function(c){c!==t&&c.enabled()&&c.disable(a)}),!a))try{trigger_terminal_change(t)}catch(c){C(c,"onTerminalChange")}terminals.set(t),t.enable(a)}}),t},blur:function(n){return this.focus(!1,n)},freeze:function(n){return $e(function(){n?(t.disable(),Ke=!0):(Ke=!1,t.enable())}),t},frozen:function(){return Ke},enable:function(n){return!Ce&&!Ke&&(qe===undefined&&t.resize(),we(function(){!n&&!Ce&&ce("onFocus"),(!n&&undefined===undefined||n)&&(Ce=!0,t.paused()||q.enable(!0))})),t},clear_cache:"Map"in root?function(){return Oe.clear_cache(),re.clear(),q.clear_cache(),t}:function(){return t},disable:function(n){return we(function(){var o;!n&&Ce&&(o=ce("onBlur")),(!n&&o===undefined||n)&&(Ce=!1,q.disable())}),t},enabled:function(){return Ce},signature:function(){for(var n=t.cols(),a=signatures.length;a--;){var o=signatures[a].map(function(l){return l.length});if(Math.max.apply(null,o)<=n)return signatures[a].join("\n").replace(/\s+$/m,"")+"\n"}return""},version:function(){return $.terminal.version},cmd:function(){return q},get_command:function(){return q.get()},enter:It("enter",ee),set_command:function(n,a){return $e(function(){"string"!=typeof n&&(n=JSON.stringify(n)),q.set(n,undefined,a)}),t},set_position:function(n,a){return $e(function(){q.position(n,a)}),t},get_position:function(){return q.position()},insert:function(n,a){if("string"==typeof n){var o;is_object(a)||(a={stay:a}),o=$.extend({stay:!1,typing:!1,delay:100},a);var c=new $.Deferred;return $e(function(){function k(){(d.scrollOnEcho||S)&&t.scroll_to_bottom()}var S=t.is_bottom();if(o.typing){var L=o.delay;t.typing("insert",L,n,d).then(function(){k(),c.resolve()})}else q.insert(n,d.stay),k()}),o.typing?c.promise():t}throw new Error(sprintf(de().notAString,"insert"))},set_prompt:It("prompt",function(n){is_function(n)?q.prompt(function(a){return n.call(t,a,t)}):q.prompt(n)},function(n){me.top().prompt=n}),get_prompt:function(){return me.top().prompt},set_mask:function(n){return $e(function(){q.mask(!0===n?d.maskChar:n)}),t},get_mask:function(){return q.mask()},get_output:function(n){return n?ye.data():ye.get_snapshot()},resize:function(n,a){if(t.is(":visible")){if(n&&a&&(t.width(n),t.height(a)),n=t.width(),a=t.height(),typeof d.numChars<"u"||typeof d.numRows<"u")return typeof d.numChars<"u"&&(q.resize(d.numChars),t.refresh()),void ce("onResize");var o=get_num_chars(t,Se),l=get_num_rows(t,Se);if(o!==qe||l!==ze){t.clear_cache();var c=o!==qe;qe=o,ze=l,c&&(q.resize(qe),t.refresh()),ce("onResize")}}else t.stopTime("resize"),t.oneTime(500,"resize",function(){t.resize(n,a)});return t},refresh:function(){return 0!==Se.width&&css(t[0],{"--char-width":Se.width,"--pixel-density":je}),t.clear_cache(),vt&&q.resize(),pe({scroll:!1,update:!0}),t},flush:function(n){return n=$.extend({},{update:!1,scroll:!0},n||{}),$e(function(){try{if(Oe.is_empty())return t;var c,L,o=t.is_bottom(),l=d.scrollOnEcho&&n.scroll||o,b=!0,k=!1,S=$(),B=[];n.update||(S=t.find(".partial"),L=ye.get_partial()),Oe.flush(function(F){if(F)if(is_function(F.finalize)){if(n.update&&!0===F.raw&&F.newline)return;if(l&&c.find("img").on("load",function(){t.scroll_to_bottom()}),n.update){ye.update_snapshot(F.index,L);var N=g(F.index);N.html()!==c.html()&&N.replaceWith(c)}else c.appendTo(Ue),S.length||ye.make_snapshot(L);c.attr("data-index",F.index),k=!F.newline,c.toggleClass("partial",k),B.push({node:c,finalize:F.finalize}),k?S=c:F.newline&&S.length&&(c=$("<div/>"),S=$())}else{var X,M=F.line;"string"==typeof F.raw&&(k?L[L.length-1]+=F.raw:L.push(F.raw)),k?(X=c.children().last().append(M),k=!1):(X=$("<div/>").html(M),F.newline&&X.addClass("cmd-end-line"),c.append(X)),X.css("width","100%")}else S.length?b&&(b=!1,k=!0,c=S):(c=$("<div/>"),L=[])}),S=t.find(".partial");var I,W=$.terminal.length(L[L.length-1]);if(W%=t.cols(),B.forEach(function(F){F.finalize(F.node)}),0===S.length)css(q[0],{"--prompt-offset":"",top:""}),q.__set_prompt_margin(0),"inline-block"===(I=t.find(".terminal-output div:last-child div:last-child")).css("display")&&I.css({width:"100%",display:""});else if(L.length){var Q=(I=S.children().last())[0].getBoundingClientRect(),ae=is_ch_unit_supported?W+"ch":W+"px";css(q[0],{top:-Q.height/je+"px","--prompt-offset":ae}),q.__set_prompt_margin(W)}(function se(){if(d.outputLimit>=0){var n;n=0===d.outputLimit?t.rows():d.outputLimit;var a=Ue.find("> div > div");if(a.length+1>n){var o=a.length-n+1,l=a.slice(0,o),c=l.parent();l.remove(),c.each(function(){var b=$(this);b.is(":empty")&&(ye.unmount(b),b.remove())}),ye.limit_snapshot(o)}}})(),ce("onFlush"),t.stopTime("flush").oneTime(10,"flush",function(){var F=t.find(".cmd-cursor"),N=t.find(".cmd").offset(),M=t.offset(),X=Ue.height(),K=q.height();css(t[0],{"--terminal-height":t.height(),"--terminal-x":N.left-M.left,"--terminal-y":N.top-M.top,"--terminal-scroll":he.prop("scrollTop"),"--cmd-top":X,"--cmd-height":K}),Ce&&!is_mobile&&!n.update&&(F.hide(),t.oneTime(1,"flush",function(){F.show()}))}),c.on_load({done:function(){l&&t.scroll_to_bottom()}})}catch(F){if(is_function(d.exceptionHandler))try{d.exceptionHandler.call(t,F,"TERMINAL (Flush)")}catch(N){d.exceptionHandler=$.noop,alert_exception("[exceptionHandler]",N)}else alert_exception("[Flush]",F)}finally{Oe.clear()}}),t},update:function(n,a,o){return $e(function(){if(n<0&&(n=ye.length()+n),ye.valid_index(n))if(null===a)ye.update(n,null),g(n).remove();else{if(!1===(a=p(a,{update:!0,line:n})))return t;unpromise(a,function(c){var b=D(c,o);b&&(c=b[0],o=b[1]),o=ye.update(n,c,o),unpromise(P({value:c,index:n,options:o}),function(){t.flush({scroll:!1,update:!0})})})}else t.error("Invalid line number "+n)}),t},remove_line:function(n){return t.update(n,null)},last_index:function(){return ye.length()-1},echo:function(n,a,o){var l=arguments.length>0,c=o||new $.Deferred;function b(){mt=!1;var W=Xe;Xe=[];for(var I=0;I<W.length;++I)t.echo.apply(t,W[I])}function k(W){b(),C(W,"ECHO",!0)}var L=a&&a.typing;if(mt&&!f){var B=[n,a];L&&B.push(c),Xe.push(B)}else!function S(W){try{var F,I=$.extend({flush:!0,exec:!0,raw:d.raw,finalize:$.noop,unmount:$.noop,delay:d.execAnimationDelay,ansi:!1,typing:!1,externalPause:!0,keepWords:!1,invokeMethods:d.invokeMethods,onClear:null,formatters:!0,allowedAttributes:d.allowedAttributes,newline:!0},a||{}),Q=d.externalPause&&I.externalPause;if(M=I.finalize,h(W)||(I.finalize=function(X){I.raw&&X.addClass("raw"),I.ansi&&X.addClass("ansi");try{is_function(M)&&M.call(t,X),X.on_load({error:function(K){K.replaceWith(use_broken_image),Q&&t.resume()},done:function(K){K&&Q&&t.resume()},load:function(K){K&&Q&&t.pause()}})}catch(K){C(K,"USER:echo(finalize)"),M=null}}),I.flush&&(Oe.empty()||t.flush()),!1===ce("onBeforeEcho",[W]))return;if(I.typing)return"string"!=typeof W?c.reject("echo: Typing animation require string or promise that resolve to string"):"number"!=typeof I.delay||isNaN(I.delay)?c.reject("echo: Invalid argument, delay need to be a number"):void t.typing("echo",I.delay,W,I).then(function(){c.resolve()});if("function"==typeof W)F=W.bind(t);else if(typeof W>"u"){if(l)return t;F=""}else{var N=p(W);if(!1===N)return t;F=N}is_promise(F)&&(mt=!0),unpromise(F,function(M){if(!(typeof M>"u"||is_promise(N)&&!1===M||_(M,I))){var X=ye.length();ye.has_newline()||X--,!I.newline&&"\n"===M[M.length-1]&&(M=M.slice(0,-1),I.newline=!0);var _e=P({value:M,options:I,index:X});is_promise(_e)&&(mt=!0),ye.push([M,I]),unpromise(_e,function(){var xe=t.find(".partial").length,De=I.flush&&xe;I.flush&&(t.flush(),xe&&t.oneTime(1,"echo",function(){var Re=ye.last_line();Re&&t.update(-1,Re[0],Re[1]),b()}),ce("onAfterEcho",[W])),De||b()},k)}},k)}catch(M){is_function(d.exceptionHandler)?d.exceptionHandler.call(t,M,"TERMINAL (echo)"):alert_exception("[Terminal.echo]",M)}var M}(n);return L?c.promise():t},typing:function(n,a,o,l){var b,k,c=new $.Deferred;function S(){c.resolve(),is_function(k)&&k.apply(t,arguments)}"object"==typeof l?(k=l.finalize||$.noop,b=$.extend({},l,{delay:a,finalize:S})):(k=l||$.noop,b={delay:a,finalize:S});var L=["prompt","echo","enter","insert"];return $e(function(){!function B(){return L.indexOf(n)>=0}()?c.reject("Invalid type only `echo` and `prompt` are supported"):"prompt"===n?Lt(o,b):"echo"===n?qt(o,b):"enter"===n?with_prompt(t.get_prompt(),function(I){Kt(I,o,b)},t):"insert"===n&&with_prompt(t.get_prompt(),function(I){Ut(I,o,b)},t)}),c.promise()},error:function(n,a){function o(l){return"string"!=typeof l&&(l=String(l)),"[[;;;terminal-error]"+$.terminal.escape_brackets(l).replace(/\\$/,"&#92;").replace(url_re,"]$1[[;;;terminal-error]")+"]"}return a=$.extend({},a,{raw:!1,formatters:!1}),"function"==typeof n?t.echo(function(){return o(n.call(t))},a):n&&n.then?(n.then(function(l){t.echo(o(l))}).catch(Ae("Echo Error")),t):t.echo(o(n),a)},exception:function(n,a){var o=exception_message(n);if(a&&(o="&#91;"+a+"&#93;: "+o),o&&t.error(o,{finalize:function(c){c.addClass("terminal-exception terminal-message")},keepWords:!0}),"string"==typeof n.fileName){var l=t.paused();l||t.pause(d.softPause),$.get(n.fileName,function(c){var b=n.lineNumber-1,k=c.split("\n")[b];k&&t.error("["+n.lineNumber+"]: "+k),l||t.resume()},"text")}return n.stack&&t.echo(format_stack_trace(n.stack),{finalize:function(c){c.addClass("terminal-exception terminal-stack-trace")},formatters:!1}),t},scroll:function(n){var a;return n=Math.round(n),t.prop,n>he.prop("scrollTop")&&n>0&&he.prop("scrollTop",0),a=he.prop("scrollTop"),he.scrollTop(a+n),t},logout:function(n){if(ke)throw new Error(sprintf(de().notWhileLogin,"logout"));return $e(function(){if(n){var o=_t.pop();t.set_token(undefined,!0),t.login.apply(t,o)}else if(1===me.size()&&t.token())t.logout(!0);else for(;me.size()>1;)t.token()?t.logout(!0).pop().pop():t.pop()}),t},token:function(n){return be.get(t.prefix_name(n)+"_token")},set_token:function(n,a){var o=t.prefix_name(a)+"_token";return typeof n>"u"?be.remove(o):be.set(o,n),t},get_token:function(n){return t.token(n)},login_name:function(n){return be.get(t.prefix_name(n)+"_login")},name:function(){return me.top().name},prefix_name:function(n,a){var o=(d.name?d.name+"_":"")+tt;if(n&&me.size()>1){var l=me.map(function(c){return c.name||""}).slice(1,a).join("_");l&&(o+="_"+l)}return o},read:function(n,a,o){var l;if((l="object"==typeof arguments[1]?$.extend({typing:!1,delay:d.execAnimationDelay,success:$.noop,cancel:$.noop},arguments[1]):{typing:!1,success:a||$.noop,cancel:o||$.noop}).signal||(l.signal=t.signal()),l.typing){var c=t.get_prompt();return l.typing=!1,t.typing("prompt",l.delay,n).then(function(){return t.set_prompt(c).read(n,l)})}Je=!0;var b=jQuery.Deferred();if(l.signal.aborted)return b.reject(),b.promise();function S(){t.pop(),d.history&&q.history().enable()}function L(){S(),function k(B){b.reject(B),is_function(l.cancel)&&l.cancel()}(l.signal.reason)}return t.push(function(B){b.resolve(B),is_function(l.success)&&l.success(B),S()},{name:"read",history:!1,prompt:n||"",onStart:function(){l.signal.addEventListener("abort",L)},keymap:{"CTRL+D":function(){return t.abort(),!1}}}),d.history&&q.history().disable(),is_function(l.onReady)&&l.onReady.call(t),b.promise()},push:function(n,a){return we(function(){a=a||{};var c=$.extend({},{infiniteLogin:!1},a);!c.name&&Ze&&(c.name=Ze.name),c.prompt===undefined&&(c.prompt=(c.name||">")+" ");var b=me.top();b&&(b.mask=q.mask());var k=Te;function S(){ce("onPush",[b,me.top()]),We()}E(n,a.login,function(L){if(me.push($.extend({},L,c)),!0===c.completion&&(Array.isArray(L.completion)?me.top().completion=L.completion:L.completion||(me.top().completion=!1)),c.login){var B,W=get_type(c.login);"function"===W?(B=c.infiniteLogin?$.noop:t.pop,t.login(c.login,c.infiniteLogin,S,B)):("string"===get_type(n)&&"string"===W||"boolean"===W)&&(B=c.infiniteLogin?$.noop:t.pop,t.login(w(n,c.login),c.infiniteLogin,S,B))}else S();!k&&t.enabled()&&t.resume()})}),t},pop:function(n,a){n!==undefined&&ee(n);var l,o=t.token(!0);if(1===me.size())l=me.top(),d.login?(a||ce("onPop",[l,null]),function xt(){!1!==ce("onBeforeLogout",[],!0)&&(Rt(),ce("onAfterlogout",[],!0),t.login(H,!0,it))}(),ce("onExit")):t.error(de().canExitError);else{o&&Rt();var c=me.pop();if(l=me.top(),We(),t.set_mask(l.mask),a||ce("onPop",[c,l]),ke&&t.get_prompt()!==de().login+": "&&(ke=!1),is_function(c.onExit))try{c.onExit.call(t,t)}catch(b){c.onExit=$.noop,C(b,"onExit")}}return t},option:function(n,a){if(typeof a>"u"){if("string"==typeof n)return d[n];"object"==typeof n&&$.each(n,function(o,l){d[o]=l})}else d[n]=a,n.match(/^num(Chars|Rows)$/)&&pe();return t},invoke_key:function(n){return q.invoke_key(n),t},keymap:function(n,a){if(0===arguments.length)return q.keymap();if(typeof a>"u"){if("string"==typeof n)return q.keymap(n);$.isPlainObject(n)&&(n=$.extend({},ge,$.omap(n||{},function(l,c){return ge[l]?function(b,k){return c.call(t,b,function(){return ge[l](b,k)})}:c.bind(t)})),q.keymap(null).keymap(n))}else if("function"==typeof a){var o=n;ge[o]?q.keymap(o,function(l,c){return a.call(t,l,function(){return ge[o](l,c)})}):q.keymap(o,a.bind(t))}},level:function(){return me.size()},reset:function(){return $e(function(){for(t.clear();me.size()>1;)me.pop();We(),V(),ut()}),t},purge:function(){return $e(function(){var a=t.prefix_name()+"_",o=be.get(a+"interpreters");o&&$.each(JSON.parse(o),function(l,c){be.remove(c+"_commands"),be.remove(c+"_token"),be.remove(c+"_login")}),q.purge(),be.remove(a+"interpreters")}),t},destroy:function(){return $e(function(){q.destroy().remove(),t.resizer("unbind"),t.touch_scroll("unbind"),Nt.resizer("unbind").remove(),Ct.resizer("unbind").remove(),$(document).unbind(".terminal_"+t.id()),$(window).unbind(".terminal_"+t.id()),t.unbind("click mousedown mouseup"),t.removeData("terminal").removeClass("terminal").unbind(".terminal"),d.width&&t.css("width",""),d.height&&t.css("height",""),$(window).off("blur",oe).off("focus",J),t.find(".terminal-fill, .terminal-font, .terminal-font-forcer").remove(),t.stopTime(),terminals.remove(tt),Le&&(Le.unobserve?Le.unobserve(t[0]):clearInterval(Le));var a=t.find(".terminal-scroll-marker");if(yt&&yt.unobserve(a[0]),a.remove(),ct&&ct.disconnect(),terminals.length()||$(window).off("hashchange"),is_mobile&&t.off(["touchstart.terminal","touchmove.terminal","touchend.terminal"].join(" ")),Ue.remove(),he.remove(),ot){var o=$(ot);"full-screen-terminal"===o.attr("class")?o.removeAttr("class"):o.removeClass("full-screen-terminal"),t.remove()}Ne=!0}),t},scroll_to:function(n){var a=he.scrollTop()-t.offset().top+$(n).offset().top;return he.scrollTop(a),t},scroll_to_bottom:function(){var n;return n=t.prop?he.prop("scrollHeight"):he.attr("scrollHeight"),he.scrollTop(n),t},is_bottom:function(){return-1!==d.scrollBottomOffset&&("boolean"==typeof gt?gt:(n=he[0].scrollHeight,he[0].scrollTop+he[0].offsetHeight>n-d.scrollBottomOffset));var n},duplicate:function(){var n=$(t);return $.extend(n,st)},get_output_buffer:function(n){var a=$.extend({html:!1},n),o=[],l=!1;return Oe.forEach(function(c){if(c)if(is_function(c.finalize))l=!c.newline;else{var b;if(b=a.html?c.line:c.raw,l){var k=o.length-1;o[k]+=b}else o.push(b)}}),a.html?o.map(function(c){return"<div>"+c+"</div>"}).join("\n"):o.join("\n")},clear_buffer:function(){return Oe.clear(),t}},function(n,a){return function(){if(Ne&&!d.exceptionHandler)throw new $.terminal.Exception(de().defunctTerminal);try{return a.apply(t,[].slice.apply(arguments))}catch(o){if("exec"!==n&&"resume"!==n&&C(o,o.type||"TERMINAL",!0),!d.exceptionHandler)throw o}}});if($.extend(t,st),0===t.length){var er=sprintf(de().invalidSelector);throw new $.terminal.Exception(er)}t.data("terminal",t);var Ze,et,Ue,qe,ze,vt,gt,yt,rt,ft,Ve,Xe=[],mt=!1,ht=0,tt=terminals.length(),Je=!1,_t=new Stack,jt=new DelayQueue,Ee=!1,Pt=!1,Bt=new DelayQueue,$e=At(Bt),we=At(jt),ke=!1,Tt=$.noop,lt=[],d=$.extend({},$.terminal.defaults,{name:t.selector,exit:!!(e&&e.login||!e)},e||{});"number"==typeof d.width&&t.width(d.width),"number"==typeof d.height&&t.height(d.height),delete d.formatters;var me,q,Qt,Le,ct,Ne=!1,Oe=new FormatBuffer(function(n){return{linksNoReferrer:d.linksNoReferrer,linksNoFollow:d.linksNoFollow,anyLinks:d.anyLinks,charWidth:Se.width,useCache:d.useCache,escape:!1,allowedAttributes:n.allowedAttributes||[]}}),ye=new OutputLines(function(){return d}),be=new function u(n){n&&(this.storage={}),this.set=function(a,o){n?this.storage[a]=o:$.Storage.set(a,o)},this.get=function(a){return n?this.storage[a]:$.Storage.get(a)},this.remove=function(a){n?delete this.storage[a]:$.Storage.remove(a)}}(d.memory),Ce=d.enabled,Ke=!1,Te=!1,zt=!0;!0===d.ignoreSystemDescribe&&(d.describe=!1),$(document).bind("ajaxSend.terminal_"+t.id(),function(n,a){requests.push(a)});var he=$('<div class="terminal-scroller"/>').appendTo(t),Ie=$('<div class="terminal-wrapper"/>').appendTo(he);$(broken_image).hide().appendTo(Ie);var Nt=$('<div class="terminal-font">&nbsp;</div>').appendTo(t),Ct=$('<div class="terminal-pixel"/>').appendTo(t),Ye=$('<div class="terminal-fill"/>').appendTo(he);Ue=$("<div>").addClass("terminal-output").attr("role","log").appendTo(Ie),t.addClass("terminal");var v,H,je=ue(),Se=get_char_size(t),s=!terminal_ready(t);if(d.login&&!1===ce("onBeforeLogin")&&(zt=!1),"string"==typeof r)v=r;else if(is_array(r))for(var y=0,T=r.length;y<T;++y)if("string"==typeof r[y]){v=r[y];break}function J(){Qt&&(t.focus(),t.scroll_to_bottom())}function ue(){return Ct[0].getBoundingClientRect().width||1}function oe(){Qt=Ce,t.disable().find(".cmd textarea").trigger("blur",[!0])}function G(n){if(is_function(n)&&(n=n()),n&&is_function(n.then))return n.then(G);if("string"!==get_type(n))if(is_function(d.parseObject)){var a=d.parseObject(n);"string"===get_type(a)&&(n=a)}else if(is_array(n))n=$.terminal.columns(n,t.cols(),d.tabs);else{var o=is_big_int(n);n=String(n),o&&(n+="n")}return n}function fe(n){if(n.proxy)return n;var a=function(o){return n.call(t,o,t)};return a.proxy=!0,a}is_function(d.login)?H=d.login:v&&("string"==typeof d.login||!0===d.login)&&(H=w(v,d.login)),terminals.append(t),$(document).on("paste.terminal_"+t.id(),function le(n){function a(B,W){return-1!==B.type.indexOf(W)}function o(B){t.echo('<img src="'+B+'"/>',{raw:!0})}function l(B){return(window.URL||window.webkitURL).createObjectURL(B)}function c(B,W){if(W)B instanceof Blob?o(l(B)):"string"==typeof B&&(B.match(/^(data:|blob:)/)?o(B):t.insert(B));else{var I={target:t};"string"==typeof B?I.text=B:B instanceof Blob&&(I.image=l(B));var Q=ce("onPaste",[I]);if(Q){if(is_function(Q.then||Q.done))return(Q.then||Q.done).call(Q,function(ae){c(ae,!0)});c(Q,!0)}else!1!==Q&&c(I.image||I.text,!0)}}if((n=n.originalEvent).clipboardData&&t.enabled()){var b=n.clipboardData.items;if(b)for(var k=0;k<b.length;k++)if(a(b[k],"image")&&d.pasteImage){c(b[k].getAsFile())}else a(b[k],"text/plain")&&b[k].getAsString(function(B){c(B.replace(/\r/g,""))});else if(n.clipboardData.getData){c(n.clipboardData.getData("text/plain").replace(/\r/g,""))}return!1}});var ge=$.extend({},Ft,$.omap(d.keymap||{},function(n,a){return Ft[n]?function(o,l){return a.call(t,o,function(){return Ft[n](o,l)})}:a.bind(t)}));return E(r,d.login,function(n){(d.completion&&"boolean"!=typeof d.completion||!d.completion)&&(n.completion="settings");var a=d.prompt;function o(F){if(!is_mobile&&((F=F.originalEvent)&&F.isTrusted)){var N=document.elementFromPoint(F.clientX,F.clientY);!$(N).closest(".terminal").length&&t.enabled()&&t.disable()}}is_function(a)&&(a=fe(a)),me=new Stack($.extend({},d.extra,{name:d.name,prompt:a,keypress:d.keypress,keydown:d.keydown,resize:d.onResize,greetings:d.greetings,mousewheel:d.mousewheel,history:d.history,keymap:ge},n)),q=$("<div/>").appendTo(Ie).cmd({tabindex:d.tabindex,mobileDelete:d.mobileDelete,mobileIngoreAutoSpace:d.mobileIngoreAutoSpace,prompt:!H&&a,history:d.memory?"memory":d.history,historyFilter:d.historyFilter,historySize:d.historySize,caseSensitiveSearch:d.caseSensitiveSearch,onPaste:d.onPaste,width:"100%",enabled:!1,charWidth:Se.width,keydown:Et,keymap:ge,clickTimeout:d.clickTimeout,holdTimeout:d.holdTimeout,holdRepeatTimeout:d.holdRepeatTimeout,repeatTimeoutKeys:d.repeatTimeoutKeys,allowedAttributes:d.allowedAttributes,keypress:wt,tabs:d.tabs,onPositionChange:function(){var F=[].slice.call(arguments);bt(),ce("onPositionChange",F)},onCommandChange:function(F){rt!==Ye.width()&&t.resizer(),ce("onCommandChange",[F]),bt()},commands:ve}),t.oneTime(100,function(){$(document).bind("click.terminal_"+t.id(),o).bind("contextmenu.terminal_"+t.id(),o)});var c,M,F,l=$(window);(document.addEventListener("resume",function(){t.disable()}),is_mobile)?(function(){t.addClass("terminal-mobile");var F,N,M,xe,K=q.clip();K.$node.off("touchstart.cmd"),t.on("touchstart.terminal",function(De){if(De=De.originalEvent,window.touch_event=De,"a"!==De.target.tagName.toLowerCase()&&!Ke&&1===De.touches.length){M=t.enabled();var Re=De.touches[0];F={x:Re.clientX,y:Re.clientY},xe=setTimeout(function(){F=null},200)}}).on("touchmove.terminal",function(De){if(1===De.touches.length&&F){var Re=De.touches[0],nt=Math.abs(Re.clientX-F.x),St=Math.abs(Re.clientY-F.y);(nt>3||St>3)&&(N=!0)}}).on("touchend.terminal",function(){F&&(clearTimeout(xe),N||(M?(K.blur(),t.disable()):(K.focus(),t.focus(),setTimeout(function(){t.scroll_to_bottom()},100)))),N=!1,F=null})}(),"visualViewport"in window&&on_height_change(function(F){css(document.documentElement,{"--terminal-force-height":F+"px"})})):(l.on("focus.terminal_"+t.id(),J).on("blur.terminal_"+t.id(),oe),function(){var N,F=0,M="click_"+t.id(),X=t.find(".cmd textarea");function K(){if(N.is(".terminal")||N.is(".terminal-scroller")||N.is(".terminal-wrapper")){var De=t.get_command().length;t.set_position(De)}else N.closest(".cmd-prompt").length&&t.set_position(0);X.is(":focus")||X.focus(),_e()}function _e(){F=0,N=null}t.mousedown(function(De){scrollbar_event(De,Ye,je)||(N=$(De.target))}).mouseup(function(){if(c)c=!1;else{if(N&&N.closest(".terminal-output textarea,.terminal-output input").length)Ce&&t.disable();else if(""===get_selected_html()&&N)if(1==++F){if(!Ke){if(Ce){var De=d.clickTimeout;return void t.oneTime(De,M,K)}t.focus(),t.scroll_to_bottom()}}else t.stopTime(M);_e()}}).dblclick(function(){_e(),t.stopTime(M)})}(),F=q.clip().$node,M="oncontextmenu"in window?"contextmenu.terminal":"mousedown.terminal",t.on(M,function(X){if(c=""===get_selected_html()&&function N(X){return"mousedown"===X.type&&2===X.buttons||"contextmenu"===X.type}(X)&&!X.ctrlKey){if($(X.target).is("img,value,audio,object,canvas,a"))return;t.enabled()||t.enable();var _e=q.offset(),xe=q[0].getBoundingClientRect(),Re=t.offset().top-_e.top,nt=Math.max(X.pageY-_e.top-20,Re),St=X.pageX-_e.left-20,Mt=56,Wt=70,Ht=t[0].getBoundingClientRect(),Vt=Ye.outerWidth()*je,Gt=nt+xe.top+Mt;Gt=Gt-Ht.height-Ht.top;var Xt=St+xe.left+Wt;Xt=Xt-Vt-Ht.left,Gt>0&&(Mt-=Math.ceil(Gt)),Xt>0&&(Wt-=Math.ceil(Xt)),F.attr("style",[style_prop("left",St,!0),style_prop("top",nt,!0),style_prop("width",Wt,!0),style_prop("height",Mt,!0)].join(";")),F.is(":focus")||F.focus(),t.stopTime("textarea"),t.oneTime(100,"textarea",function(){var tr={left:"",top:"",width:"",height:""};if(!is_css_variables_supported){var rr=t.find(".cmd .cmd-cursor-line").prevUntil(".cmd-prompt").length;tr.top=14*rr+"px"}F.css(tr)}),t.stopTime("selection"),t.everyTime(20,"selection",function(){F[0].selection!==F[0].value&&get_textarea_selection(F[0])&&(clear_textarea_selection(F[0]),select(t.find(".terminal-output")[0],t.find(".cmd div:last-of-type")[0]),t.stopTime("selection"))})}}),t.on("scroll",function(){var F=t.find("textarea"),N=t[0].getBoundingClientRect(),K=t[0].scrollHeight-(he.scrollTop()+N.height);0===K?F.css("top",""):F.css("top",-K)}));function b(){Se.width!==(Se=get_char_size(t)).width&&q.option("charWidth",Se.width).refresh()}function k(){if(t.is(":visible")){var F=Ye.width(),N=Ye.height();je=ue(),Ve!==je&&css(t[0],{"--pixel-density":je}),s&&((s=!terminal_ready(t))||(Se=get_char_size(t),b())),(ft!==N||rt!==F||je!==Ve)&&t.resize(),ft=N,rt=F,Ve=je}}function S(){var F={prefix:"terminal-"};t.resizer("unbind").resizer(k,F),Nt.resizer("unbind").resizer(function(){b(),t.resize()},F),Ct.resizer("unbind").resizer(function(){je=ue(),t.refresh()},F),$('<div class="terminal-font-forcer terminal-hidden">x<div>').appendTo(t)}function L(F){gt=F[0].intersectionRatio>=.9}function W(){Le&&(Le.unobserve?Le.unobserve(t[0]):clearInterval(Le));var F=t.enabled(),N=t.is(":visible");function M(){t.is(":visible")&&!N?(N=!0,S(),b(),k(),F&&t.enable(),Ie.css("visibility","")):N&&!t.is(":visible")&&(N=!1,F=$.terminal.active()===t&&t.enabled(),t.disable(),Ie.css("visibility","hidden"))}F&&!N&&t.disable(),N?S():Ie.css("visibility","hidden"),window.IntersectionObserver&&"fixed"!==t.css("position")?(Le=new IntersectionObserver(M,{root:null})).observe(t[0]):Le=setInterval(M,100)}t.on("click","a",function(F){var N=$(this);if(N.closest(".terminal-exception").length){var M=N.attr("href");M.match(/:[0-9]+$/)&&(F.preventDefault(),function R(n,a){var l=n.match(/(.*):([0-9]+):([0-9]+)$/);l&&(t.pause(d.softPause),$.get(l[1],function(c){var b=l[1],k=c.split("\n"),S=+l[2]-1,L=S>2?S-2:0,B=k.slice(L,S+3).map(function(W,I){var Q="["+(S+I-1)+"]: ",ae=a-Q.length-4;return W.length>ae&&(W=W.substring(0,ae)+"..."),(S>2?2===I:I===S)&&(W="[[;#f00;]"+$.terminal.escape_brackets(W)+"]"),Q+W}).filter(Boolean).join("\n");B.length&&(t.echo("[[b;white;]"+b+"]"),t.echo(B).resume())},"text"))}(M,t.cols()))}Ce&&t.find(".cmd textarea").focus()}),k(),function B(){if(window.IntersectionObserver){var F=$('<div class="terminal-scroll-marker"/>').appendTo(he),N=F;if(-1!==d.scrollBottomOffset){var M=style_prop("height",d.scrollBottomOffset);N=$('<div style="'+M+'"/>').appendTo(F)}(yt=new IntersectionObserver(L,{root:he[0],rootMargin:"0px",threshold:1})).observe(N[0])}}(),t.is(":visible")&&S();var I=!!t.closest("body").length,Q=window.MutationObserver||window.WebKitMutationObserver;Q&&(ct=new Q(function(){t.closest("body").length?(I||(t.scroll_to_bottom(),W(),k()),I=!0):I&&(I=!1)})).observe(document.body,{childList:!0}),I&&W(),document.fonts&&document.fonts.ready?document.fonts.ready.then(function(){have_custom_font(t)&&(b(),t.resize()),jt.resolve()}):jt.resolve(),Ce&&t.is(":visible")&&!is_mobile?t.focus(undefined,!0):t.disable(),is_function(H)?(t.login(H,!0,it),Bt.resolve(),ut()):(it(),ut()),d.execHash&&location.hash?setTimeout(function(){try{var F=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(F)),F.match(/\[/)||function He(n){if(typeof history<"u"&&history.replaceState){var a="#"+JSON.stringify(n),o=location.href.replace(/#.*$/,a);history.replaceState(null,"",o)}}(hash_commands);var N=0,M={typing:d.execAnimation,delay:d.execAnimationDelay};!function X(){var K=hash_commands[N++];K?function ae(F,N){var M=terminals.get()[F[0]],X=$.Deferred();if(M&&tt===M.id())return F[2]?Te?(Be.push(function(){return M.exec(F[2],N).done(function(){M.save_state(F[2],!0,F[1]),X.resolve()})}),X.promise()):M.exec(F[2],N).done(function(){M.save_state(F[2],!0,F[1])}):(X.resolve(),X.promise())}(K,M).done(X):change_hash=!0}()}catch{}}):change_hash=!0,function(){var F=!1;function N(K,_e){if(!F){var De,xe=me.top();if(is_function(xe.mousewheel)?De=xe.mousewheel(K,_e,t):is_function(d.mousewheel)&&(De=d.mousewheel(K,_e,t)),!0===De)return;if((function Z(){return Ye.outerWidth()!==t.outerWidth()}()||!1===De)&&!K.ctrlKey&&(K.stopPropagation(),K.preventDefault()),!1===De)return!1;_e>0?t.scroll(-40):t.scroll(40)}}if($(document).bind("keydown.terminal_"+t.id(),function(K){K.shiftKey&&(F=!0)}).bind("keyup.terminal_"+t.id(),function(K){(K.shiftKey||16===K.which)&&(F=!1)}),$.event.special.mousewheel)he.on("mousewheel",N);else{var M,X=document.createElement("div");M="onwheel"in X?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",X=null,t.on(M,function(K){N(K,-("mousewheel"===M?-1/40*K.originalEvent.wheelDelta:K.originalEvent.deltaY||K.originalEvent.detail))})}he.touch_scroll(function(K){var xe,_e=K.current.clientY-K.previous.clientY,De=me.top();if(is_function(De.touchscroll)?xe=De.touchscroll(K,_e,t):is_function(d.touchscroll)&&(xe=d.touchscroll(K,_e,t)),css(t[0],{"--terminal-scroll":he.prop("scrollTop")}),!0!==xe)return!1})}()}),t}})},35956:r=>{r.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},88226:(r,e,u)=>{"use strict";var i=u(96318),f=u(35956),p={nul:0,control:0};function D(h,x){if("string"!=typeof h)return _(h,x);for(var R=0,j=0;j<h.length;j++){var z=_(h.charCodeAt(j),x);if(z<0)return-1;R+=z}return R}function _(h,x){return 0===h?x.nul:h<32||h>=127&&h<160?x.control:function g(h){var j,x=0,R=f.length-1;if(h<f[0][0]||h>f[R][1])return!1;for(;R>=x;)if(j=Math.floor((x+R)/2),h>f[j][1])x=j+1;else{if(!(h<f[j][0]))return!0;R=j-1}return!1}(h)?0:1+(h>=4352&&(h<=4447||9001==h||9002==h||h>=11904&&h<=42191&&12351!=h||h>=44032&&h<=55203||h>=63744&&h<=64255||h>=65040&&h<=65049||h>=65072&&h<=65135||h>=65280&&h<=65376||h>=65504&&h<=65510||h>=131072&&h<=196605||h>=196608&&h<=262141))}r.exports=function(x){return D(x,p)},r.exports.config=function(h){return h=i(h||{},p),function(R){return D(R,h)}}}}]);